#
# Makefile for processing client files
#
# Can be used to run jobs in parallel
#       make -j<njobs> -l<maxload>
#               njobs: Allow N jobs at once; infinite jobs with no arg.
#               maxload: Don't start multiple jobs unless load is below N.
#
# See the help of make for detail information (using make --help)
#
# This Makefile is used to split FDR data into credit and debit files as well
# as run some analysis programs.  One can make according to program name or
# by client name.  Examples are "make UFAL_INTERSECT" and "make ADVANTA".
# One can also make clean in a similar manner "make clean_UFAL_INTERSECT"
# and "make clean_ADVANTA".
#
# Dependencies are used to prevent running an analysis program before the
# appropriate data files are created.
#
# Below is a list of the general the make commands.  Type "clean_" before
# the task or client name to remove the output files.
#
# make all
# make CHECK_SUM
# make UFAL_INTERSECT
# make TABLEHASH
# make BINTOTAL
# make MERCHANT_KEY_LENGTH
# make MERCHANT_PROFILE
# make VERIFY_AUTH
# make VERIFY_CARD
# make VERIFY_FRAUD
# make VERIFY_NONM
# make VERIFY_PAYM
# make VERIFY_POST
#
# make .
#

SHELL = /bin/sh

._TASKS =  \
./analysis/checksum.results \
./analysis/ufal_intersect.results \
./analysis/BINmonth.results \
./analysis/BINtotal.results \
./analysis/merchant.key.lengths \
./analysis/merchant.profile.match \
./analysis/verify_auth.results \
./analysis/verify_card.results \
./analysis/verify_fraud.results

CHECK_SUM_LIST = ./analysis/checksum.results

UFAL_INTERSECT_LIST = ./analysis/ufal_intersect.results

TABLEHASH_LIST = ./analysis/BINmonth.results

BINTOTAL_LIST = ./analysis/BINtotal.results

MERCHANT_KEY_LENGTH_LIST = ./analysis/merchant.key.lengths

MERCHANT_PROFILE_LIST = ./analysis/merchant.profile.match

VERIFY_AUTH_LIST = ./analysis/verify_auth.results

VERIFY_CARD_LIST = ./analysis/verify_card.results

VERIFY_FRAUD_LIST = ./analysis/verify_fraud.results

all : ${CHECK_SUM_LIST} ${UFAL_INTERSECT_LIST} ${TABLEHASH_LIST} ${BINTOTAL_LIST} ${MERCHANT_KEY_LENGTH_LIST} ${MERCHANT_PROFILE_LIST} ${VERIFY_AUTH_LIST} ${VERIFY_CARD_LIST} ${VERIFY_FRAUD_LIST} ${VERIFY_NONM_LIST} ${VERIFY_PAYM_LIST} ${VERIFY_POST_LIST}

. : ${._TASKS}

CHECK_SUM : ${CHECK_SUM_LIST}
UFAL_INTERSECT : ${UFAL_INTERSECT_LIST}
TABLEHASH : ${TABLEHASH_LIST}
BINTOTAL : ${BINTOTAL_LIST}
MERCHANT_KEY_LENGTH : ${MERCHANT_KEY_LENGTH_LIST}
MERCHANT_PROFILE : ${MERCHANT_PROFILE_LIST}
VERIFY_AUTH : ${VERIFY_AUTH_LIST}
VERIFY_CARD : ${VERIFY_CARD_LIST}
VERIFY_FRAUD : ${VERIFY_FRAUD_LIST}
VERIFY_NONM : ${VERIFY_NONM_LIST}
VERIFY_PAYM : ${VERIFY_PAYM_LIST}
VERIFY_POST : ${VERIFY_POST_LIST}

clean_all : clean_CHECK_SUM clean_UFAL_INTERSECT clean_TABLEHASH clean_BINTOTAL clean_MERCHANT_KEY_LENGTH clean_MERCHANT_PROFILE clean_VERIFY_AUTH clean_VERIFY_CARD clean_VERIFY_FRAUD clean_VERIFY_NONM clean_VERIFY_PAYM clean_VERIFY_POST

clean_. : 
	- rm -f ${._TASKS}

clean_CHECK_SUM : 
	- rm -f ${CHECK_SUM_LIST}
clean_UFAL_INTERSECT : 
	- rm -f ${UFAL_INTERSECT_LIST}
clean_TABLEHASH : 
	- rm -f ${TABLEHASH_LIST}
clean_BINTOTAL : 
	- rm -f ${BINTOTAL_LIST}
clean_MERCHANT_KEY_LENGTH : 
	- rm -f ${MERCHANT_KEY_LENGTH_LIST}
clean_MERCHANT_PROFILE : 
	- rm -f ${MERCHANT_PROFILE_LIST}
clean_VERIFY_AUTH : 
	- rm -f ${VERIFY_AUTH_LIST}
clean_VERIFY_CARD : 
	- rm -f ${VERIFY_CARD_LIST}
clean_VERIFY_FRAUD : 
	- rm -f ${VERIFY_FRAUD_LIST}
clean_VERIFY_NONM : 
	- rm -f ${VERIFY_NONM_LIST}
clean_VERIFY_PAYM : 
	- rm -f ${VERIFY_PAYM_LIST}
clean_VERIFY_POST : 
	- rm -f ${VERIFY_POST_LIST}

################################################################
#	CHECK_SUM
################################################################

./analysis/checksum.results : ./fraud.final.gz ./auth.orig.gz ./card.orig.gz
	./script/checksum.script


################################################################
#	UFAL_INTERSECT
################################################################

./analysis/ufal_intersect.results : ./fraud.final.gz ./auth.orig.gz ./card.orig.gz
	./script/ufal_intersect.script


################################################################
#	TABLEHASH
################################################################

./analysis/BINmonth.results : ./fraud.final.gz ./auth.orig.gz ./card.orig.gz
	./script/tablehash.script


################################################################
#	BINTOTAL
################################################################

./analysis/BINtotal.results : ./analysis/BINmonth.results
	./script/BINtotal.script


################################################################
#	MERCHANT_KEY_LENGTH
################################################################

./analysis/merchant.key.lengths : ./auth.orig.gz
	./script/merchant.key.lengths.script


################################################################
#	MERCHANT_PROFILE
################################################################

./analysis/merchant.profile.match : ./auth.orig.gz /work/fpcostello/asciiMP/FP_productionASCIIMP/MCUSA_2005/mp.keys.20051228.gz
	./script/merchant.profile.match.script


################################################################
#	VERIFY_AUTH
################################################################

./analysis/verify_auth.results : ./auth.orig.gz
	./script/verify_auth.script


################################################################
#	VERIFY_CARD
################################################################

./analysis/verify_card.results : ./card.orig.gz
	./script/verify_card.script


################################################################
#	VERIFY_FRAUD
################################################################

./analysis/verify_fraud.results : ./fraud.final.gz
	./script/verify_fraud.script


################################################################
#	VERIFY_NONM
################################################################


################################################################
#	VERIFY_PAYM
################################################################


################################################################
#	VERIFY_POST
################################################################

