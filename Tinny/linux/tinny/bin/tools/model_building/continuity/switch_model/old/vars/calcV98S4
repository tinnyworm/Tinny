VAR  PROF_INIT : FLOAT
GRP = VARS
MAP = PROF.P1;

//
//************************************************
// calculation vars  for AUTH & POST variables
//************************************************
//
// PURCHINP
VAR CNTRY_CONV_98S : CNTRY_NUM_CONV
GRP = VARS;

VAR CURR_CONV_98S : CURR_NUM_CONV
GRP = VARS;

VAR POSTLL_98S : POSTLL_DATA
GRP = VARS;

VAR CNTRYLL_98S : CNTRYLL_DATA
GRP = VARS;

VAR MTIME_98S : FLOAT
GRP = VARS;

VAR  MUSED_98S : INT32
GRP = VARS;

VAR GEO_RISK_TEMP : FLOAT
GRP = VARS;

VAR START_GEORISK_98S : POSTAL_RISK_DATA
GRP = VARS;

VAR GEO_RISK_98S : GEO_RISK_DATA
GRP = VARS;

VAR DEF_GEO_RISK_98S : GEO_RISK_DATA
GRP = VARS;

VAR  IS_CASH_98S : FLOAT
GRP = VARS
RCOD = 10
CALC = 
STR_EQL(TRAN.TRAN_TYPE, CON_C);

VAR  IS_MERCH_98S : FLOAT
GRP = VARS
RCOD = 10
CALC = 
FLOAT_EQL(IS_CASH_98S, CON_0);

VAR  IS_APPROVED_98S : FLOAT
GRP = VARS
RCOD = 7
CALC = 
BEGIN
  RETURN(1);
ENDVAR;

VAR  IS_KEYED_98S : FLOAT
GRP = VARS
RCOD = 10
CALC = 
BEGIN
   return((TRAN.AUTH_KEYED_SWIPED = 'K') OR (TRAN.AUTH_KEYED_SWIPED = 'E'));
ENDVAR;

VAR  IS_SWIPED_98S : FLOAT
GRP = VARS
RCOD = 10
CALC = 
FLOAT_EQL(IS_KEYED_98S, CON_0);

VAR  IS_CVV_MISMATCH_98S : FLOAT
GRP = VARS
RCOD = 22
CALC = 
BEGIN
   return ( TRAN.AUTH_CVV_VERIFY in ('I','N','Z') );
ENDVAR;

VAR  IS_SWIPED_CVV_MISMATCH_98S : FLOAT
GRP = VARS
RCOD = 22
CALC = 
BEGIN
   return  ( IS_SWIPED_98S AND IS_CVV_MISMATCH_98S );
ENDVAR;

VAR  DOL_CASH_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
FLOAT_MUL(DOL_AMT, IS_CASH_98S);

VAR CPOST_98S : STRING{9}
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   RETURN(TRAN.POSTCODE);
ENDVAR;

VAR  CCNTRY_RAW : INT32
GRP = VARS
RCOD = 0
CALC = 
FAL_CODE_CONV(CNTRY_CONV_98S, TRAN.CARD_CNTRY_CODE, DEFAULT_CNTRY);

VAR CCNTRY_EQUIV : INT32
GRP = VARS
RCOD = 0
CALC = 
VAR
    TMP_POSTLL_DATA : POSTLL_DATA;
BEGIN
    /* If not in the equivalent country, leave it alone
     * Otherwise, if we have strong equivalence, map to DEFAULT_CNTRY
     * Otherwise, if we have weak equivalence,
     *     Map if we are in the postal table, otherwise leave it alone
     * Otherwise, we must be in no equivalence, so we leave it alone.
     */
    IF (CCNTRY_RAW <> EQUIV_CNTRY) THEN
        RETURN (CCNTRY_RAW);
    ELSE
    BEGIN
        IF (EQUIV_LEVEL = STRONG_EQUIV) THEN
            RETURN (DEFAULT_CNTRY);
        ELSE IF (EQUIV_LEVEL = WEAK_EQUIV) THEN
        BEGIN
            IF (Table_Lookup (CPOST_98S, TMP_POSTLL_DATA)) THEN
                RETURN (DEFAULT_CNTRY);
            ELSE
                RETURN (CCNTRY_RAW);
        END;
        ELSE
            RETURN (CCNTRY_RAW);
    END;
ENDVAR;

VAR MPOST_98S : STRING{9}
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   RETURN(TRAN.MERCH_POST_CODE);
ENDVAR;

VAR  MCURR_TMP_98S : INT32
GRP = VARS
RCOD = 0
CALC = 
FAL_CODE_CONV(CURR_CONV_98S, TRAN.TRAN_CURR_CODE, DEFAULT_CNTRY);

VAR  MCNTRY_RAW : INT32
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   IF (Is_Digit(Left(TRAN.MERCH_CNTRY_CODE, 1))) THEN
      RETURN(String_To_Num(TRAN.MERCH_CNTRY_CODE));

   IF (NOT Table_Lookup(TRAN.MERCH_CNTRY_CODE, CNTRY_CONV_98S )) THEN
      RETURN(MCURR_TMP_98S );
   ELSE
      RETURN(CNTRY_CONV_98S.CODENUM);
ENDVAR;

VAR  MCNTRY_EQUIV : INT32
GRP = VARS
RCOD = 0
CALC = 
VAR
    TMP_POSTLL_DATA : POSTLL_DATA;
BEGIN
    /* If not in the equivalent country, leave it alone
     * Otherwise, if we have strong equivalence, map to DEFAULT_CNTRY
     * Otherwise, if we have weak equivalence,
     *     Map if we are in the postal table, otherwise leave it alone
     * Otherwise, we must be in no equivalence, so we leave it alone.
     */
    IF (MCNTRY_RAW <> EQUIV_CNTRY) THEN
        RETURN (MCNTRY_RAW);
    ELSE
    BEGIN
        IF (EQUIV_LEVEL = STRONG_EQUIV) THEN
            RETURN (DEFAULT_CNTRY);
        ELSE IF (EQUIV_LEVEL = WEAK_EQUIV) THEN
        BEGIN
            IF (Table_Lookup (MPOST_98S, TMP_POSTLL_DATA)) THEN
                RETURN (DEFAULT_CNTRY);
            ELSE
                RETURN (MCNTRY_RAW);
        END;
        ELSE
            RETURN (MCNTRY_RAW);
    END;
ENDVAR;

VAR  MCURR_98S : INT32
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   if (is_missing(TRAN.TRAN_CURR_CODE)) then
     return(MCNTRY_EQUIV);
   else
     return(MCURR_TMP_98S );
ENDVAR;

VAR  IS_NOT_USA_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
BEGIN
   return(NOT ((TRAN.MERCH_CNTRY_CODE = "840")
            OR (TRAN.MERCH_CNTRY_CODE = "US ")
            OR (TRAN.MERCH_CNTRY_CODE = "USA")) );
ENDVAR;

VAR  AT_HOME_98S : INT32
GRP = VARS
RCOD = 0
CALC = 
BEGIN
/* XXS: add a bunch of internet merchants and some airlines */
/* this excludes the geo-distance calculation */
  RETURN((CURRENT_SIC >= 5960 AND CURRENT_SIC <= 5969)
      OR (CURRENT_SIC  = 4761)
      OR (CURRENT_SIC >= 4814 AND CURRENT_SIC <= 4816)
      OR (CURRENT_SIC >= 3000 AND CURRENT_SIC <= 3350)
      OR (CURRENT_SIC  = 4511));
 /*
  RETURN((CURRENT_SIC  = 5961 OR  CURRENT_SIC  = 5964 OR CURRENT_SIC  = 5966 OR
          CURRENT_SIC  = 5967 OR  CURRENT_SIC  = 4761) OR
         (CURRENT_SIC  >= 3000 AND CURRENT_SIC  <= 3297));
 */
ENDVAR;

VAR GEO_LOGIC_98S : STRING{3}
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   RETURN(AUTH_GEO_LOGIC);
ENDVAR;

VAR  DIST_FROM_HOME_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DIST_HOME(DEFAULT_CNTRY, CPOST_98S, CCNTRY_EQUIV, MPOST_98S, MCNTRY_EQUIV, MCURR_98S, POSTLL_98S, CNTRYLL_98S, GEO_LOGIC_98S, AT_HOME_98S, MUSED_98S, MTIME_98S);

VAR LAST_POST_CODE_98S : STRING{5}
GRP = VARS
RCOD = 0
CALC = 
VAR
   TMP_POST_CODE : STRING{5};
BEGIN
   Unpack_Zip(RECENT_M_POSTAL  , TMP_POST_CODE);   
   RETURN(TMP_POST_CODE);
ENDVAR;

VAR LAST_CNTRY_RAW : INT32 
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   IF (RECENT_M_CNTRY < 1000) THEN
     RETURN(RECENT_M_CNTRY);
   ELSE
     BEGIN
       RECENT_M_CNTRY := MCNTRY_RAW;
       RETURN(RECENT_M_CNTRY);
     END;
ENDVAR;


VAR LAST_CNTRY_EQUIV : INT32 
GRP = VARS
RCOD = 0
CALC = 
VAR
    TMP_POSTLL_DATA : POSTLL_DATA;
BEGIN
    /* If not in the equivalent country, leave it alone
     * Otherwise, if we have strong equivalence, map to DEFAULT_CNTRY
     * Otherwise, if we have weak equivalence,
     *     Map if we are in the postal table, otherwise leave it alone
     * Otherwise, we must be in no equivalence, so we leave it alone.
     */
    IF (LAST_CNTRY_RAW <> EQUIV_CNTRY) THEN
        RETURN (LAST_CNTRY_RAW);
    ELSE
    BEGIN
        IF (EQUIV_LEVEL = STRONG_EQUIV) THEN
            RETURN (DEFAULT_CNTRY);
        ELSE IF (EQUIV_LEVEL = WEAK_EQUIV) THEN
        BEGIN
            IF (Table_Lookup (LAST_POST_CODE_98S, TMP_POSTLL_DATA)) THEN
                RETURN (DEFAULT_CNTRY);
            ELSE
                RETURN (LAST_CNTRY_RAW);
        END;
        ELSE
            RETURN (LAST_CNTRY_RAW);
    END;
ENDVAR;


VAR  DIST_FROM_PREV : FLOAT
GRP = VARS
RCOD = 6
CALC =
FAL_DIST_PREV(AT_HOME_98S, MCNTRY_EQUIV, MPOST_98S, LAST_CNTRY_EQUIV, LAST_POST_CODE_98S, POSTLL_98S, CNTRYLL_98S);

VAR  HRS_FROM_STD_TIME_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FLOAT_SUB(MTIME_98S, GMT_OFFSET);

VAR  KEY_STR_98S : STRING{3}
GRP = VARS
CALC =
BEGIN
   if (IS_KEYED_98S) then
     return(KEY_STRING);
   else
     return(NKY_STRING);
ENDVAR;

VAR GEO_RISKRATE_98S : FLOAT
GRP = VARS
RCOD = 3
CALC =
FAL_GEO_RISK(MUSED_98S, MPOST_98S, MCNTRY_EQUIV, MCURR_98S, ADJUST_RATIO_98S, GEO_RISK_98S, DEF_GEO_RISK_98S, START_GEORISK_98S, TRAN.AUTH_POST_FLAG, KEY_STR_98S);

VAR  GEO_SDEVS_DOL_FRAUD_98S : FLOAT
GRP = VARS
RCOD = 6
CALC = 
FAL_RISK_Z(DOL_AMT, GEO_RISK_98S.FSTDAMT, GEO_RISK_98S.FMEANAMT, DEF_GEO_RISK_98S.FSTDAMT, DEF_GEO_RISK_98S.FMEANAMT);

VAR  LOCAL_TIME_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
VAR
   TIME : NUMERIC;
BEGIN
   TIME := CURRENT_TIME   + HRS_FROM_STD_TIME_98S  * HOUR_SECS;
   IF (TIME >= DAY_SECS) THEN
   BEGIN
      LOCAL_DATE_98S   := LOCAL_DATE_98S   + 1;
      TIME := TIME - DAY_SECS;
   END
   ELSE IF (TIME < 0) THEN
   BEGIN
      LOCAL_DATE_98S   := LOCAL_DATE_98S   - 1;
      TIME := TIME + DAY_SECS;
   END;

   RETURN(TIME);
ENDVAR;

VAR  IS_0_TO_7_AM_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
BEGIN
   return ( (LOCAL_TIME_98S   > 0) AND (LOCAL_TIME_98S   < _7_AM) );
ENDVAR;


//
//*********
//  purch SIC vars
//*********
//
// PURCHSIC
VAR SIC_RISK_98S : SIC_RISK_DATA
GRP = VARS
RCOD = 0
CALC = 
VAR
   TMP_RISK : SIC_RISK_DATA;
BEGIN
   if (IS_KEYED_98S  ) then
     Table_Lookup(CURRENT_SIC  , TMP_RISK, "A_KEY_SIC_RISK_DATA");
   else
     Table_Lookup(CURRENT_SIC  , TMP_RISK, "A_NKY_SIC_RISK_DATA");

   RETURN(TMP_RISK);
ENDVAR;

VAR DEF_SIC_RISK_98S : SIC_RISK_DATA
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   IF (IS_KEYED_98S  ) THEN
      RETURN(DEF_A_SIC_KEY_RISK );
   ELSE
      RETURN(DEF_A_SIC_NKY_RISK );
ENDVAR;

VAR  SIC_POP_FRAUD_RATE_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   IF (IS_KEYED_98S  ) THEN
      return(SIC_A_POP_KEY_FRAUD_RATE );
   ELSE
      RETURN(SIC_A_POP_NKY_FRAUD_RATE );
ENDVAR;

VAR  SIC_VISA_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
BEGIN
   IF(SIC_RISK_98S.VISA = SIC_VISAOTHRPCH AND IS_CASH_98S  ) THEN
      RETURN(SIC_VISAOTHRCSH);
   ELSE
      RETURN(SIC_RISK_98S.VISA);
ENDVAR;

VAR  SIC_FACT_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
BEGIN
   RETURN(SIC_RISK_98S.FACTOR);
ENDVAR;

VAR  SIC_RISKRATE_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
FAL_RISK_RATE(ADJUST_RATIO_98S, SIC_RISK_98S.NUMFRDS, SIC_RISK_98S.TOTAL, SIC_POP_FRAUD_RATE_98S);

VAR  IS_HIGH_RISK_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
BEGIN
  return (SIC_RISKRATE_98S   > HIGH_RISK);
ENDVAR;

VAR  IS_TELEPHONE_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
BEGIN
  return ( CURRENT_SIC    >= TELEPHONE_SIC1 AND  CURRENT_SIC   <= TELEPHONE_SIC4 );
ENDVAR;

VAR  IS_ATM_98S : FLOAT
GRP = VARS
RCOD = 14
CALC = 
FLOAT_EQL(CURRENT_SIC, ATM_SIC);

VAR  IS_NOT_ATM_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
BEGIN
  return ( NOT (IS_ATM_98S  ) );
ENDVAR;

VAR  IS_UNATTENDED_GAS_98S : FLOAT
GRP = VARS
RCOD = 18
CALC = 
FLOAT_EQL(CURRENT_SIC, UNATTENDED_GAS_SIC);

VAR  SIC_SDEVS_DOL_FRAUD_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FAL_RISK_Z(DOL_AMT, SIC_RISK_98S.FSTDAMT, SIC_RISK_98S.FMEANAMT, DEF_SIC_RISK_98S.FSTDAMT, DEF_SIC_RISK_98S.FMEANAMT);

VAR  SIC_SDEVS_DOL_NONFRAUD_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FAL_RISK_Z(DOL_AMT, SIC_RISK_98S.NFSTDAMT, SIC_RISK_98S.NFMEANAMT, DEF_SIC_RISK_98S.NFSTDAMT, DEF_SIC_RISK_98S.NFMEANAMT);

VAR SICxAMT_RISK_98S : AMT_RISK_DATA
GRP = VARS
RCOD = 0
CALC = 
VAR
   TMP_RISK : A_SICxAMT_RISK_DATA;
BEGIN
   Table_Multi_Lookup(TMP_RISK, CURRENT_SIC  , 1, DOL_AMT  , 2);
   RETURN(TMP_RISK.AMT_RISK);
ENDVAR;

VAR  SICxAMT_RISKRATE_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
FAL_RISK_RATE(SICxAMT_ADJUST_RATIO_98S, SICxAMT_RISK_98S.NUMFRDS, SICxAMT_RISK_98S.TOTAL, SIC_RISKRATE_98S);

VAR  SICxAMT_SDEVS_DIST_FRAUD_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
VAR
   TMP_F_SD    : NUMERIC;
   DEF_SICxAMT : A_SICxAMT_RISK_DATA;
BEGIN
   IF (SICxAMT_RISK_98S.FSTDDIST <> 0.0) THEN
      TMP_F_SD := ABS(DIST_FROM_HOME_98S  - SICxAMT_RISK_98S.FMEANDIST) / SICxAMT_RISK_98S.FSTDDIST;
   ELSE
   BEGIN
     Table_Multi_Lookup(DEF_SICxAMT, CURRENT_SIC  , 1, DOL_AMT  , 4);
     IF (DEF_SICxAMT.AMT_RISK.FSTDDIST <> 0.0) THEN
       TMP_F_SD := ABS(DIST_FROM_HOME_98S  - DEF_SICxAMT.AMT_RISK.FMEANDIST) / DEF_SICxAMT.AMT_RISK.FSTDDIST;
     ELSE
     BEGIN
       Table_Multi_Lookup(DEF_SICxAMT, CURRENT_SIC  , 4, DOL_AMT  , 2);
       IF (DEF_SICxAMT.AMT_RISK.FSTDDIST <> 0.0) THEN
        TMP_F_SD := ABS(DIST_FROM_HOME_98S  - DEF_SICxAMT.AMT_RISK.FMEANDIST) / DEF_SICxAMT.AMT_RISK.FSTDDIST;
       ELSE
        TMP_F_SD := 0;
      END;
   END;
   RETURN(TMP_F_SD);
ENDVAR;

VAR  SICxAMT_SDEVS_DIST_NONFRAUD_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
VAR
   TMP_NF_SD   : NUMERIC;
   DEF_SICxAMT : A_SICxAMT_RISK_DATA;
BEGIN
   IF (SICxAMT_RISK_98S.NFSTDDIST <> 0.0) THEN
    TMP_NF_SD := ABS(DIST_FROM_HOME_98S  - SICxAMT_RISK_98S.NFMEANDIST) / SICxAMT_RISK_98S.NFSTDDIST;
   ELSE
   BEGIN
     Table_Multi_Lookup(DEF_SICxAMT, CURRENT_SIC  , 1, DOL_AMT  , 4);
     IF (DEF_SICxAMT.AMT_RISK.NFSTDDIST <> 0.0) THEN
       TMP_NF_SD := ABS(DIST_FROM_HOME_98S  - DEF_SICxAMT.AMT_RISK.NFMEANDIST) / DEF_SICxAMT.AMT_RISK.NFSTDDIST;
     ELSE
     BEGIN
       Table_Multi_Lookup(DEF_SICxAMT, CURRENT_SIC  , 4, DOL_AMT  , 2);
       IF (DEF_SICxAMT.AMT_RISK.NFSTDDIST <> 0.0) THEN
        TMP_NF_SD := ABS(DIST_FROM_HOME_98S  - DEF_SICxAMT.AMT_RISK.NFMEANDIST) / DEF_SICxAMT.AMT_RISK.NFSTDDIST;
       ELSE
        TMP_NF_SD := 0;
     END;
   END;
   RETURN(TMP_NF_SD);
ENDVAR;

VAR  IS_CnATM_98S : FLOAT
GRP = VARS
RCOD = 15
CALC = 
FLOAT_MUL(IS_CASH_98S, IS_NOT_ATM_98S);

VAR  DOL_ATM_98S : FLOAT
GRP = VARS
RCOD = 14
CALC = 
FLOAT_MUL(DOL_AMT, IS_ATM_98S);


//
//***************************************************
//  Auth INPUT only variables
//***************************************************
//
// AUTHINP
VAR  IS_SAME_MERCH_LOC_98S : FLOAT
GRP = VARS
RCOD = 6
CALC = 
VAR
  POST_TMP : STRING{5};
BEGIN
  POST_TMP := left(TRAN.MERCH_POST_CODE, 5);
  RETURN((LAST_POST_CODE_98S  = POST_TMP) AND
           (NOT Is_Missing(POST_TMP)) AND
           (LAST_POST_CODE_98S  <> "  0") AND
           RECENT_SIC   = CURRENT_SIC  );
ENDVAR;

VAR  IS_SAME_CASHBACK_LOC_98S : FLOAT
GRP = VARS
RCOD = 6
CALC = 
BEGIN
  return (IS_SAME_MERCH_LOC_98S );
ENDVAR;

VAR  IS_INCREASING_REQUEST_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
BEGIN
   RETURN(DOL_AMT   > LAST_AUTH_AMT  );
ENDVAR;

VAR  IS_INCREASING_APPROVE_98S : FLOAT
GRP = VARS
RCOD = 7
CALC = 
BEGIN
   RETURN(IS_INCREASING_REQUEST_98S   AND IS_APPROVED_98S  );
ENDVAR;

VAR  IS_SAME_AMT_AGAIN_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
BEGIN
   RETURN(DOL_AMT   = LAST_AUTH_AMT  );
ENDVAR;

VAR  GEO_SPEED : FLOAT
GRP = VARS
MAP = PROF.P15
RCOD = 6
CALC =
BEGIN
   IF ((TRAN.NUM_CARDS = 1) AND 
     IS_SWIPED_98S AND 
     RECENT_SWIPED AND
     (((MCNTRY_EQUIV = DEFAULT_CNTRY) AND (NOT (CURRENT_SIC IN (6010,6011))) AND
       (LAST_CNTRY_EQUIV <> DEFAULT_CNTRY)) 
      OR   
      ((LAST_CNTRY_EQUIV = DEFAULT_CNTRY) AND (NOT (RECENT_SIC IN (6010,6011))) AND (RECENT_AT_HOME = 0) AND
       (MCNTRY_EQUIV <> DEFAULT_CNTRY))))
   THEN
     RETURN(DIST_FROM_PREV/MAX(AUTH_DELTA_TIME,_1MIN)/24.0); 
   ELSE
     RETURN(0.0);
ENDVAR;

VAR  DOL_RATE_98S : FLOAT
GRP = VARS
RCOD = 8, RGRP = 4
CALC = 
BEGIN
   IF (AUTH_DELTA_TIME   > _1MIN) THEN
      RETURN( (DOL_AMT /AUTH_DELTA_TIME ) / 24);
   ELSE
      RETURN (DOL_AMT  *60);
ENDVAR;

VAR  IS_HI_DOL_RATE_98S : FLOAT
GRP = VARS
RCOD = 8, RGRP = 4
CALC = 
FLOAT_GRTREQL(DOL_RATE_98S, HI_DOL_RATE);

VAR  IS_SWIPED_KEYED_2D_98S : FLOAT
GRP = VARS
RCOD = 12
CALC = 
BEGIN
   return( RECENT_SWIPED   and IS_KEYED_98S   and (AUTH_DELTA_TIME   < _2DAY) );
ENDVAR;

VAR  DAYOWEEK_98S : FLOAT
GRP = VARS
RCOD = 1
CALC = 
BEGIN
   RETURN( Day_Of_Week(LOCAL_DATE_98S ) );
ENDVAR;

VAR  HOW_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
BEGIN
  RETURN( ((DAYOWEEK_98S   - 1) * DAY_HOURS) + Trunc(LOCAL_TIME_98S   / HOUR_SECS) );
ENDVAR;

VAR HOW_RISK_98S : HOW_RISK_DATA
GRP = VARS
RCOD = 0
CALC = 
VAR
   TMP_RISK : HOW_RISK_DATA;
BEGIN
    if (IS_KEYED_98S  ) then
      Table_Lookup(HOW_98S  , TMP_RISK, "A_KEY_HOW_RISK_DATA");
    else
      Table_Lookup(HOW_98S  , TMP_RISK, "A_NKY_HOW_RISK_DATA");

   RETURN(TMP_RISK);
ENDVAR;

VAR  HOW_POP_FRAUD_RATE_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   IF (IS_KEYED_98S  ) THEN
      RETURN(HOW_POP_KEY_FRAUD_RATE );
   ELSE 
      RETURN(HOW_POP_NKY_FRAUD_RATE );
ENDVAR;

VAR  TIME_RISKRATE_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
FAL_RISK_RATE(ADJUST_RATIO_98S, HOW_RISK_98S.NUMFRDS, HOW_RISK_98S.TOTAL, HOW_POP_FRAUD_RATE_98S);

VAR  DOL_ATM_SQUARED_98S : FLOAT
GRP = VARS
RCOD = 14
CALC = 
FLOAT_MUL(DOL_ATM_98S, DOL_ATM_98S);

VAR  DOL_SQUARED_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
FLOAT_MUL(DOL_AMT, DOL_AMT);

VAR DEF_HOW_RISK_98S : HOW_RISK_DATA
GRP = VARS
RCOD = 0
CALC = 
BEGIN
   IF (IS_KEYED_98S ) THEN
      RETURN(DEF_HOW_KEY_RISK );
   ELSE 
      RETURN(DEF_HOW_NKY_RISK );
ENDVAR;



//
//***********
//  purch for 2631
//***********
//
// PURCH
VAR  TOTAL_RISKRATE_98S : FLOAT
GRP = VARS
RCOD = 11
CALC = 
FLOAT_MAX(SIC_RISKRATE_98S, GEO_RISKRATE_98S, TIME_RISKRATE_98S, SICxAMT_RISKRATE_98S);

VAR  TOTAL_RISKRATE_KEYED_98S : FLOAT
GRP = VARS
RCOD = 13
CALC = 
FLOAT_MUL(TOTAL_RISKRATE_98S, IS_KEYED_98S);

VAR  EXP_2W_ACCOUNT_AGE_TMP : FLOAT
GRP = VARS
RCOD = 11
CALC = 
FAL_AGE_DECAY(ACCT_AGE_98S, _2WEEK);

VAR  EXP_2W_ACCOUNT_AGE_98S : FLOAT
GRP = VARS
RCOD = 11
CALC = 
BEGIN
  IF ( ACCT_AGE_98S < 0.0 ) THEN
    RETURN(0);
  ELSE
    RETURN(EXP_2W_ACCOUNT_AGE_TMP);
ENDVAR;

VAR  EXP_2W_PLASTIC_AGE_TMP : FLOAT
GRP = VARS
RCOD = 11
CALC = 
FAL_AGE_DECAY(PLASTIC_AGE, _2WEEK);

VAR  EXP_2W_PLASTIC_AGE_98S : FLOAT
GRP = VARS
RCOD = 11
CALC = 
BEGIN
  IF ( PLASTIC_AGE < 0.0 ) THEN
    RETURN(0);
  ELSE
    RETURN(EXP_2W_PLASTIC_AGE_TMP);
ENDVAR;

VAR  IS_SIC_VISA_6_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
WHICH_BIN(SIC_VISA_98S, CON_6);

VAR  IS_SIC_VISA_8_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
WHICH_BIN(SIC_VISA_98S, CON_8);

VAR  DOL_SIC_VISA_6_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_SIC_VISA_6_98S);

VAR  DOL_SIC_VISA_8_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_SIC_VISA_8_98S);

VAR  IS_SIC_FACT_1_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
WHICH_BIN(SIC_FACT_98S, CON_1);

VAR  IS_SIC_FACT_3_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
WHICH_BIN(SIC_FACT_98S, CON_3);

VAR  IS_SIC_FACT_4_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
WHICH_BIN(SIC_FACT_98S, CON_4);

VAR  IS_SIC_FACT_5_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
WHICH_BIN(SIC_FACT_98S, CON_5);

VAR  DOL_SIC_FACT_3_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_SIC_FACT_3_98S);

VAR  DOL_SIC_FACT_5_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_SIC_FACT_5_98S);

VAR  IS_GE_180_DOL_ATM_98S : FLOAT
GRP = VARS
RCOD = 14
CALC = 
FLOAT_MUL(IS_GE_180_DOL, IS_ATM_98S);

VAR  IS_GE_180_DOL_CASH_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(IS_GE_180_DOL, IS_CASH_98S);

VAR  IS_GE_180_DOL_ATM_0_TO_7_AM_98S : FLOAT
GRP = VARS
RCOD = 14
CALC = 
FLOAT_MUL(IS_GE_180_DOL_ATM_98S, IS_0_TO_7_AM_98S);

VAR  IS_CnATM_APPR_98S : FLOAT
GRP = VARS
RCOD = 15
CALC = 
FLOAT_MUL(IS_CnATM_98S, IS_APPROVED_98S);

VAR  IS_CASH_APPR_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(IS_CASH_98S, IS_APPROVED_98S);

VAR  IS_KEYED_NOT_USA_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(IS_NOT_USA_98S, IS_KEYED_98S);

VAR  DOL_CnATM_APPR_98S : FLOAT
GRP = VARS
RCOD = 15
CALC = 
FLOAT_MUL(DOL_AMT, IS_CnATM_APPR_98S);

VAR  DOL_CASH_APPR_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_CASH_APPR_98S);

VAR  DOL_CASH_ACCTAGE_LE_30D_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_CASH_98S, IS_ACCTAGE_LE_30D);

VAR  IS_MERCH_APPR_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(IS_MERCH_98S, IS_APPROVED_98S);

VAR  DOL_MERCH_APPR_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_MERCH_APPR_98S);

VAR  DOL_APPROVED_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
FLOAT_MUL(DOL_AMT, IS_APPROVED_98S);


//
//*******
//  auth Coefs for 2631
//*******
//
// AUTHCOEF

VAR  AUTH_NUM_EVENTS_SEEN : FLOAT
GRP = VARS
ALT = A_EVENTS
MAP = PROF.P11
CALC = 
FLOAT_ADD(AUTH_NUM_EVENTS_SEEN, CON_1);

VAR  AUTH_NUM_EVENTS_SEEN_98S : FLOAT
GRP = VARS
MAP = PROF.P221
RCOD = 0
CALC = 
FLOAT_ADD(AUTH_NUM_EVENTS_SEEN_98S, CON_1);

VAR  A_AVG_COEF1_1EVENT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_EVENT_AVG_COEF1(AUTH_NUM_EVENTS_SEEN_98S, _1EVENT);

VAR  A_AVG_COEF1_5EVENT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_EVENT_AVG_COEF1(AUTH_NUM_EVENTS_SEEN_98S, _5EVENT);

VAR  A_AVG_COEF1_40EVENT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_EVENT_AVG_COEF1(AUTH_NUM_EVENTS_SEEN_98S, _40EVENT);

VAR  A_AVG_COEF2_1EVENT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_EVENT_AVG_COEF2(AUTH_NUM_EVENTS_SEEN_98S, _1EVENT, EXP_1EVENT);

VAR  A_AVG_COEF2_5EVENT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_EVENT_AVG_COEF2(AUTH_NUM_EVENTS_SEEN_98S, _5EVENT, EXP_5EVENT);

VAR  A_AVG_COEF2_40EVENT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_EVENT_AVG_COEF2(AUTH_NUM_EVENTS_SEEN_98S, _40EVENT, EXP_40EVENT);

VAR ACCT_AGE_ADJUST_98S : FLOAT
GRP = VARS
RCOD = 0
CALC =
BEGIN
  IF (ACCT_AGE_98S < 1.0) THEN
    RETURN (1.0);
  ELSE
    RETURN (ACCT_AGE_98S);
ENDVAR

VAR  A_DR_COEF1_1MIN_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_1MIN, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_1HOUR_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_1HOUR, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_4HOUR_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_4HOUR, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_1DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_1DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_2DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_2DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_3DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_3DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_4DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_4DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_7DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_7DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_3WEEK_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_3WEEK, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_3MON_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_3MON, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF1_6MON_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
FAL_DLY_COEF1(_6MON, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_1MIN_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _1MIN, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_1HOUR_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _1HOUR, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_1DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _1DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_2DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _2DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_3DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _3DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_3WEEK_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _3WEEK, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_4DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _4DAY, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_4HOUR_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _4HOUR, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_3MON_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _3MON, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_6MON_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _6MON, ACCT_AGE_ADJUST_98S);

VAR  A_DR_COEF2_7DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _7DAY, ACCT_AGE_ADJUST_98S);

VAR  AUTH_DECAY_COEF_SAFE_TIME_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, SAFE_TIME);

VAR  AUTH_DECAY_COEF_1MIN_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _1MIN);

VAR  AUTH_DECAY_COEF_15MIN_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _15MIN);

VAR  AUTH_DECAY_COEF_30MIN_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _30MIN);

VAR  AUTH_DECAY_COEF_1DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _1DAY);

VAR  AUTH_DECAY_COEF_2DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _2DAY);

VAR  AUTH_DECAY_COEF_3DAY_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _3DAY);

VAR  AUTH_DECAY_COEF_6MON_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
RATE_DECAY(AUTH_DELTA_TIME, _6MON);


//
//*********
// auth Daily Rate vars for 2631
//*********
//
// AUTHDR
VAR  DAILY_DOL_AUTH_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P207
RCOD = 8
CALC = 
DAILY_RATE(DAILY_DOL_AUTH_1D_98S, IS_AUTH, DOL_AMT, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_NUM_AUTH_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P203
RCOD = 8
CALC = 
DAILY_RATE(DAILY_NUM_AUTH_1D_98S, IS_AUTH, IS_AUTH, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_NUM_ATM_4H_98S : FLOAT
GRP = VARS
MAP = PROF.P94
RCOD = 14
CALC = 
DAILY_RATE(DAILY_NUM_ATM_4H_98S, IS_ATM_98S, IS_ATM_98S, A_DR_COEF1_4HOUR_98S, A_DR_COEF2_4HOUR_98S);

VAR  DAILY_DOL_AUTH_CxA_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P198
RCOD = 8
CALC = 
DAILY_RATE(DAILY_DOL_AUTH_CxA_1D_98S, IS_AUTH, DOL_CASH_APPR_98S, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_DOL_AUTH_MxA_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P192
RCOD = 8
CALC = 
DAILY_RATE(DAILY_DOL_AUTH_MxA_1D_98S, IS_AUTH, DOL_MERCH_APPR_98S, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_NUM_AUTH_CxA_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P193
RCOD = 16
CALC = 
DAILY_RATE(DAILY_NUM_AUTH_CxA_1D_98S, IS_AUTH, IS_CASH_APPR_98S, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_NUM_AUTH_MxA_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P194
RCOD = 8
CALC = 
DAILY_RATE(DAILY_NUM_AUTH_MxA_1D_98S, IS_AUTH, IS_MERCH_APPR_98S, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DOL_CASH_ACCTAGE_LE_30D_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P103
RCOD = 16
CALC = 
DAILY_RATE(DOL_CASH_ACCTAGE_LE_30D_2D_98S, IS_AUTH, DOL_CASH_ACCTAGE_LE_30D_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_AUTH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P95
RCOD = 8
CALC = 
DAILY_RATE(DAILY_NUM_AUTH_6M_98S, IS_AUTH, IS_AUTH, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  DAILY_DOL_6M_VISA_SIC8_98S : FLOAT
GRP = VARS
MAP = PROF.P6
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_6M_VISA_SIC8_98S, IS_AUTH, DOL_SIC_VISA_8_98S, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  DAILY_NUM_6M_VISA_SIC6_98S : FLOAT
GRP = VARS
MAP = PROF.P91
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_6M_VISA_SIC6_98S, IS_AUTH, IS_SIC_VISA_6_98S, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  DAILY_DOL_6M_FACT_SIC3_98S : FLOAT
GRP = VARS
MAP = PROF.P185
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_6M_FACT_SIC3_98S, IS_AUTH, DOL_SIC_FACT_3_98S, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  DAILY_DOL_6M_FACT_SIC5_98S : FLOAT
GRP = VARS
MAP = PROF.P87
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_6M_FACT_SIC5_98S, IS_AUTH, DOL_SIC_FACT_5_98S, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  DAILY_NUM_6M_FACT_SIC5_98S : FLOAT
GRP = VARS
MAP = PROF.P90
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_6M_FACT_SIC5_98S, IS_AUTH, IS_SIC_FACT_5_98S, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  TELEPHONE_3D_98S : FLOAT
GRP = VARS
MAP = PROF.P167
RCOD = 3
CALC = 
DAILY_RATE(TELEPHONE_3D_98S, IS_AUTH, IS_TELEPHONE_98S, A_DR_COEF1_3DAY_98S, A_DR_COEF2_3DAY_98S);

VAR  KEYED_RATE_1H_98S : FLOAT
GRP = VARS
MAP = PROF.P111
RCOD = 12
CALC = 
DAILY_RATE(KEYED_RATE_1H_98S, IS_AUTH, IS_KEYED_98S, A_DR_COEF1_1HOUR_98S, A_DR_COEF2_1HOUR_98S);

VAR  KEYED_NOT_USA_RATE_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P110
RCOD = 21
CALC = 
DAILY_RATE(KEYED_NOT_USA_RATE_2D_98S, IS_AUTH, IS_KEYED_NOT_USA_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  CnATM_3D_98S : FLOAT
GRP = VARS
MAP = PROF.P86
RCOD = 15
CALC = 
DAILY_RATE(CnATM_3D_98S, IS_CnATM_98S, IS_CASH_98S, A_DR_COEF1_3DAY_98S, A_DR_COEF2_3DAY_98S);

VAR  GE_180_DOL_ATM_0_7_3D_98S : FLOAT
GRP = VARS
MAP = PROF.P108
RCOD = 14
CALC = 
DAILY_RATE(GE_180_DOL_ATM_0_7_3D_98S, IS_AUTH, IS_GE_180_DOL_ATM_0_TO_7_AM_98S, A_DR_COEF1_3DAY_98S, A_DR_COEF2_3DAY_98S);

VAR  GE_180_DOL_CASH_3D_98S : FLOAT
GRP = VARS
MAP = PROF.P109
RCOD = 3
CALC = 
DAILY_RATE(GE_180_DOL_CASH_3D_98S, IS_AUTH, IS_GE_180_DOL_CASH_98S, A_DR_COEF1_3DAY_98S, A_DR_COEF2_3DAY_98S);

VAR  UNATTENDED_GAS_4H_98S : FLOAT
GRP = VARS
MAP = PROF.P170
RCOD = 18
CALC = 
DAILY_RATE(UNATTENDED_GAS_4H_98S, IS_AUTH, IS_UNATTENDED_GAS_98S, A_DR_COEF1_4HOUR_98S, A_DR_COEF2_4HOUR_98S);

VAR  UNATTENDED_GAS_3D_98S : FLOAT
GRP = VARS
MAP = PROF.P217
RCOD = 18
CALC = 
DAILY_RATE(UNATTENDED_GAS_3D_98S, IS_AUTH, IS_UNATTENDED_GAS_98S, A_DR_COEF1_3DAY_98S, A_DR_COEF2_3DAY_98S);

VAR  DAILY_NUM_APPROVE_1MIN_98S : FLOAT
GRP = VARS
MAP = PROF.P92
RCOD = 8
CALC = 
DAILY_RATE(DAILY_NUM_APPROVE_1MIN_98S, IS_AUTH, IS_APPROVED_98S, A_DR_COEF1_1MIN_98S, A_DR_COEF2_1MIN_98S);

VAR  DAILY_NUM_APPROVE_4D_98S : FLOAT
GRP = VARS
MAP = PROF.P93
RCOD = 8
CALC = 
DAILY_RATE(DAILY_NUM_APPROVE_4D_98S, IS_AUTH, IS_APPROVED_98S, A_DR_COEF1_4DAY_98S, A_DR_COEF2_4DAY_98S);

VAR  DAILY_DOL_AUTH_1H_98S : FLOAT
GRP = VARS
MAP = PROF.P88
RCOD = 8
CALC = 
DAILY_RATE(DAILY_DOL_AUTH_1H_98S, IS_AUTH, DOL_AMT, A_DR_COEF1_1HOUR_98S, A_DR_COEF2_1HOUR_98S);

VAR  DAILY_DOL_VISA_SIC6_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P186
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_VISA_SIC6_2D_98S, IS_AUTH, DOL_SIC_VISA_6_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_DOL_VISA_SIC8_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P187
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_VISA_SIC8_2D_98S, IS_AUTH, DOL_SIC_VISA_8_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_VISA_SIC6_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P101
RCOD = 3
CALC = 
DAILY_RATE(DAILY_NUM_VISA_SIC6_2D_98S, IS_AUTH, IS_SIC_VISA_6_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_VISA_SIC8_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P174
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_VISA_SIC8_2D_98S, IS_AUTH, IS_SIC_VISA_8_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_DOL_FACT_SIC3_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P184
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_FACT_SIC3_2D_98S, IS_AUTH, DOL_SIC_FACT_3_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_DOL_FACT_SIC5_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P89
RCOD = 2
CALC = 
DAILY_RATE(DAILY_DOL_FACT_SIC5_2D_98S, IS_AUTH, DOL_SIC_FACT_5_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_FACT_SIC1_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P96
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_FACT_SIC1_2D_98S, IS_AUTH, IS_SIC_FACT_1_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_FACT_SIC3_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P97
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_FACT_SIC3_2D_98S, IS_AUTH, IS_SIC_FACT_3_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_FACT_SIC4_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P98
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_FACT_SIC4_2D_98S, IS_AUTH, IS_SIC_FACT_4_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DAILY_NUM_FACT_SIC5_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P178
RCOD = 2
CALC = 
DAILY_RATE(DAILY_NUM_FACT_SIC5_2D_98S, IS_AUTH, IS_SIC_FACT_5_98S, A_DR_COEF1_2DAY_98S, A_DR_COEF2_2DAY_98S);

VAR  DOL_ATM_SQ_RATE_3W_98S : FLOAT
GRP = VARS
MAP = PROF.P102
RCOD = 14
CALC = 
DAILY_RATE(DOL_ATM_SQ_RATE_3W_98S, IS_AUTH, DOL_ATM_SQUARED_98S, A_DR_COEF1_3WEEK_98S, A_DR_COEF2_3WEEK_98S);

VAR  NUM_MERCH_RATE_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P161
RCOD = 8
CALC = 
DAILY_RATE(NUM_MERCH_RATE_1D_98S, IS_AUTH, IS_MERCH_98S, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  NUM_MERCH_RATE_7D_98S : FLOAT
GRP = VARS
MAP = PROF.P162
RCOD = 8
CALC = 
DAILY_RATE(NUM_MERCH_RATE_7D_98S, IS_AUTH, IS_MERCH_98S, A_DR_COEF1_7DAY_98S, A_DR_COEF2_7DAY_98S);

VAR  DAILY_NUM_LO_DOL_AUTHS_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P99
RCOD = 5
CALC = 
DAILY_RATE(DAILY_NUM_LO_DOL_AUTHS_1D_98S, IS_AUTH, IS_LO_AMT, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_NUM_HI_DOL_AUTHS_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P195
RCOD = 4
CALC = 
DAILY_RATE(DAILY_NUM_HI_DOL_AUTHS_1D_98S, IS_AUTH, IS_HI_AMT, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  DAILY_NUM_LO_DOL_AUTHS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P100
RCOD = 5
CALC = 
DAILY_RATE(DAILY_NUM_LO_DOL_AUTHS_6M_98S, IS_AUTH, IS_LO_AMT, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  DAILY_NUM_HI_DOL_AUTHS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P196
RCOD = 4
CALC = 
DAILY_RATE(DAILY_NUM_HI_DOL_AUTHS_6M_98S, IS_AUTH, IS_HI_AMT, A_DR_COEF1_6MON_98S, A_DR_COEF2_6MON_98S);

VAR  LOG_DOL_GE_1K_DOL_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P112
RCOD = 3
CALC = 
DAILY_RATE(LOG_DOL_GE_1K_DOL_1D_98S, IS_AUTH, LOG_DOL_AMT_GE_1K, A_DR_COEF1_1DAY_98S, A_DR_COEF2_1DAY_98S);

VAR  LOG_DOL_GE_1K_DOL_3M_98S : FLOAT
GRP = VARS
MAP = PROF.P113
RCOD = 3
CALC = 
DAILY_RATE(LOG_DOL_GE_1K_DOL_3M_98S, IS_AUTH, LOG_DOL_AMT_GE_1K, A_DR_COEF1_3MON_98S, A_DR_COEF2_3MON_98S);


//
//************
// auth FAL_CONSEC vars for 2631
//************
//
// AUTHCS
VAR  CONS_HI_DOL_RATE_98S : FLOAT
GRP = VARS
MAP = PROF.P191
RCOD = 4
CALC = 
FAL_CONSEC(CONS_HI_DOL_RATE_98S, IS_HI_DOL_RATE_98S, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);

VAR  CONS_ATM_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P79
RCOD = 14
CALC = 
FAL_CONSEC(CONS_ATM_1D_98S, IS_ATM_98S, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);

VAR  CONS_CB_AT_CURR_LOC_30MIN_98S : FLOAT
GRP = VARS
MAP = PROF.P80
RCOD = 6
CALC = 
FAL_CONSEC(CONS_CB_AT_CURR_LOC_30MIN_98S, IS_SAME_CASHBACK_LOC_98S, AUTH_DECAY_COEF_30MIN_98S, IS_AUTH);

VAR  CONS_APPROVE_1MIN_98S : FLOAT
GRP = VARS
MAP = PROF.P78
RCOD = 7
CALC = 
FAL_CONSEC(CONS_APPROVE_1MIN_98S, IS_APPROVED_98S, AUTH_DECAY_COEF_1MIN_98S, IS_AUTH);

VAR  CONS_APPROVE_15MIN_98S : FLOAT
GRP = VARS
MAP = PROF.P205
RCOD = 7
CALC = 
FAL_CONSEC(CONS_APPROVE_15MIN_98S, IS_APPROVED_98S, AUTH_DECAY_COEF_15MIN_98S, IS_AUTH);

VAR  CONS_REQUEST_3D_98S : FLOAT
GRP = VARS
MAP = PROF.P173
RCOD = 7
CALC = 
FAL_CONSEC(CONS_REQUEST_3D_98S, IS_AUTH, AUTH_DECAY_COEF_3DAY_98S, IS_AUTH);

VAR  CONS_HI_DOL_TRANS_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P81
RCOD = 4
CALC = 
FAL_CONSEC(CONS_HI_DOL_TRANS_1D_98S, IS_HI_AMT, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);

VAR  CONS_LO_DOL_TRANS_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P83
RCOD = 5
CALC = 
FAL_CONSEC(CONS_LO_DOL_TRANS_1D_98S, IS_LO_AMT, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);

VAR  CONS_INCREASING_APPROVE_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P82
RCOD = 7
CALC = 
FAL_CONSEC(CONS_INCREASING_APPROVE_1D_98S, IS_INCREASING_APPROVE_98S, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);

VAR  CONS_ONE_DOL_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P84
RCOD = 5
CALC = 
FAL_CONSEC(CONS_ONE_DOL_1D_98S, IS_ONE_DOL, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);

VAR  CONS_SAME_AMT_AGAIN_1D_98S : FLOAT
GRP = VARS
MAP = PROF.P85
RCOD = 5
CALC = 
FAL_CONSEC(CONS_SAME_AMT_AGAIN_1D_98S, IS_SAME_AMT_AGAIN_98S, AUTH_DECAY_COEF_1DAY_98S, IS_AUTH);


//
//***********
// auth EVAVG for 2631
//***********
//
// AUTHEA
VAR  PCT_KEYED_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P163
RCOD = 12
CALC = 
EVENT_AVG(PCT_KEYED_AVG_40E_98S, IS_AUTH, IS_KEYED_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  DOL_SQ_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P105
RCOD = 4
CALC = 
EVENT_AVG(DOL_SQ_AVG_5E_98S, IS_AUTH, DOL_SQUARED_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  DOL_SQ_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P104
RCOD = 4
CALC = 
EVENT_AVG(DOL_SQ_AVG_40E_98S, IS_AUTH, DOL_SQUARED_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  GEO_SD_AVGDOL_FRA_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P190
RCOD = 6
CALC = 
EVENT_AVG(GEO_SD_AVGDOL_FRA_AVG_5E_98S, IS_AUTH, GEO_SDEVS_DOL_FRAUD_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  GEO_SD_AVGDOL_FRA_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P189
RCOD = 6
CALC = 
EVENT_AVG(GEO_SD_AVGDOL_FRA_AVG_40E_98S, IS_AUTH, GEO_SDEVS_DOL_FRAUD_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  TIME_RISK_RATE_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P176
RCOD = 1
CALC = 
EVENT_AVG(TIME_RISK_RATE_AVG_5E_98S, IS_AUTH, TIME_RISKRATE_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  TIME_RISK_RATE_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P168
RCOD = 1
CALC = 
EVENT_AVG(TIME_RISK_RATE_AVG_40E_98S, IS_AUTH, TIME_RISKRATE_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  GEO_RISK_AVG_1E_98S : FLOAT
GRP = VARS
MAP = PROF.P177
RCOD = 6
CALC = 
EVENT_AVG(GEO_RISK_AVG_1E_98S, IS_AUTH, GEO_RISKRATE_98S, A_AVG_COEF1_1EVENT_98S, A_AVG_COEF2_1EVENT_98S);

VAR  AVG_DOL_AUTH_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P214
RCOD = 4
CALC = 
EVENT_AVG(AVG_DOL_AUTH_40E_98S, IS_AUTH, DOL_AMT, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  TOTAL_RISK_KEYED_PER_AUTH_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P169
RCOD = 13
CALC = 
EVENT_AVG(TOTAL_RISK_KEYED_PER_AUTH_40E_98S, IS_AUTH, TOTAL_RISKRATE_KEYED_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  EXPIRATION_MISMATCH_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P107
RCOD = 10
CALC = 
EVENT_AVG(EXPIRATION_MISMATCH_AVG_5E_98S, IS_AUTH, IS_EXP_MISMATCH, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  EXPIRATION_MISMATCH_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P106
RCOD = 10
CALC = 
EVENT_AVG(EXPIRATION_MISMATCH_AVG_40E_98S, IS_AUTH, IS_EXP_MISMATCH, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  CVV_MISMATCH_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P215
RCOD = 22
CALC = 
EVENT_AVG(CVV_MISMATCH_AVG_5E_98S, IS_AUTH, IS_CVV_MISMATCH_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  CVV_MISMATCH_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P216
RCOD = 22
CALC = 
EVENT_AVG(CVV_MISMATCH_AVG_40E_98S, IS_AUTH, IS_CVV_MISMATCH_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  SIC_SD_AVGDOL_NOFRA_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P212
RCOD = 2
CALC = 
EVENT_AVG(SIC_SD_AVGDOL_NOFRA_AVG_5E_98S, IS_AUTH, SIC_SDEVS_DOL_NONFRAUD_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  SICxAMT_RISK_PER_AUTH_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P183
RCOD = 3
CALC = 
EVENT_AVG(SICxAMT_RISK_PER_AUTH_5E_98S, IS_AUTH, SICxAMT_RISKRATE_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  SICxAMT_SD_AVGDIST_FRA_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P165
RCOD = 20
CALC = 
EVENT_AVG(SICxAMT_SD_AVGDIST_FRA_AVG_5E_98S, IS_AUTH, SICxAMT_SDEVS_DIST_FRAUD_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  SICxAMT_SD_AVGDIST_FRA_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P164
RCOD = 20
CALC = 
EVENT_AVG(SICxAMT_SD_AVGDIST_FRA_AVG_40E_98S, IS_AUTH, SICxAMT_SDEVS_DIST_FRAUD_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  SICxAMT_SD_AVGDIST_NOFRA_AVG_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P166
RCOD = 20
CALC = 
EVENT_AVG(SICxAMT_SD_AVGDIST_NOFRA_AVG_5E_98S, IS_AUTH, SICxAMT_SDEVS_DIST_NONFRAUD_98S, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  SICxAMT_SD_AVGDIST_NOFRA_AVG_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P188
RCOD = 20
CALC = 
EVENT_AVG(SICxAMT_SD_AVGDIST_NOFRA_AVG_40E_98S, IS_AUTH, SICxAMT_SDEVS_DIST_NONFRAUD_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);

VAR  SICxAMT_RISK_PER_AUTH_40E_98S : FLOAT
GRP = VARS
MAP = PROF.P175
RCOD = 20
CALC = 
EVENT_AVG(SICxAMT_RISK_PER_AUTH_40E_98S, IS_AUTH, SICxAMT_RISKRATE_98S, A_AVG_COEF1_40EVENT_98S, A_AVG_COEF2_40EVENT_98S);


//
//*********
//  auths for 2631
//*********
//
// AUTH
VAR  AVG_DOL_AUTH_5E_98S : FLOAT
GRP = VARS
MAP = PROF.P213
RCOD = 4
CALC = 
EVENT_AVG(AVG_DOL_AUTH_5E_98S, IS_AUTH, DOL_AMT, A_AVG_COEF1_5EVENT_98S, A_AVG_COEF2_5EVENT_98S);

VAR  N_LOG_D_GE_1K_DOL_1Dx3M_NMN_98S : FLOAT
GRP = VARS
RCOD = 4
CALC = 
NORMALIZE(LOG_DOL_GE_1K_DOL_1D_98S, LOG_DOL_GE_1K_DOL_3M_98S, MAX_RATIO, CON_0);

VAR  N_AVG_D_AUTH_5Ex40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
NORMALIZE(AVG_DOL_AUTH_5E_98S, AVG_DOL_AUTH_40E_98S, MAX_RATIO, CON_0);

VAR  N_DN_AUTH_1Dx6M_NMN_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
NORMALIZE(DAILY_NUM_AUTH_1D_98S, DAILY_NUM_AUTH_6M_98S, MAX_RATIO, CON_0);

VAR  VISA_SIC6_POWER_SCORE_2D_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
FLOAT_MUL(DAILY_NUM_VISA_SIC6_2D_98S, DAILY_DOL_VISA_SIC6_2D_98S);

VAR  FACT_SIC3_POWER_SCORE_2D_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
FLOAT_MUL(DAILY_NUM_FACT_SIC3_2D_98S, DAILY_DOL_FACT_SIC3_2D_98S);

VAR  N_EXPIRE_MISMATCH_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 22
CALC = 
NORMALIZE(EXPIRATION_MISMATCH_AVG_5E_98S, EXPIRATION_MISMATCH_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_CVV_MISMATCH_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 22
CALC = 
NORMALIZE(CVV_MISMATCH_AVG_5E_98S, CVV_MISMATCH_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_DOL_SQ_AVG_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
NORMALIZE(DOL_SQ_AVG_5E_98S, DOL_SQ_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_GEO_SD_DOL_FRA_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 6
CALC = 
NORMALIZE(GEO_SD_AVGDOL_FRA_AVG_5E_98S, GEO_SD_AVGDOL_FRA_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_TIME_RISK_RATE_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 1
CALC = 
NORMALIZE(TIME_RISK_RATE_AVG_5E_98S, TIME_RISK_RATE_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_DD_VISA_SIC8_2D_NMN_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
NORMALIZE(DAILY_DOL_VISA_SIC8_2D_98S, DAILY_DOL_6M_VISA_SIC8_98S, MAX_RATIO, CON_0);

VAR  N_DN_VISA_SIC6_2D_NMN_98S : FLOAT
GRP = VARS
RCOD = 3
CALC = 
NORMALIZE(DAILY_NUM_VISA_SIC6_2D_98S, DAILY_NUM_6M_VISA_SIC6_98S, MAX_RATIO, CON_0);

VAR  N_DD_FACT_SIC3_2D_NMN_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
NORMALIZE(DAILY_DOL_FACT_SIC3_2D_98S, DAILY_DOL_6M_FACT_SIC3_98S, MAX_RATIO, CON_0);

VAR  N_DD_FACT_SIC5_2D_NMN_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
NORMALIZE(DAILY_DOL_FACT_SIC5_2D_98S, DAILY_DOL_6M_FACT_SIC5_98S, MAX_RATIO, CON_0);

VAR  N_DN_FACT_SIC5_2D_NMN_98S : FLOAT
GRP = VARS
RCOD = 2
CALC = 
NORMALIZE(DAILY_NUM_FACT_SIC5_2D_98S, DAILY_NUM_6M_FACT_SIC5_98S, MAX_RATIO, CON_0);

VAR  N_DN_LO_DOL_AUTHS_1Dx6M_NMN_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
NORMALIZE(DAILY_NUM_LO_DOL_AUTHS_1D_98S, DAILY_NUM_LO_DOL_AUTHS_6M_98S, MAX_RATIO, CON_0);

VAR  N_DN_HI_DOL_AUTHS_1Dx6M_NMN_98S : FLOAT
GRP = VARS
RCOD = 4
CALC = 
NORMALIZE(DAILY_NUM_HI_DOL_AUTHS_1D_98S, DAILY_NUM_HI_DOL_AUTHS_6M_98S, MAX_RATIO, CON_0);

VAR  N_SICxAMT_SD_DIST_FRA_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 20
CALC = 
NORMALIZE(SICxAMT_SD_AVGDIST_FRA_AVG_5E_98S, SICxAMT_SD_AVGDIST_FRA_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_SICxAMT_SD_DIST_NOFR_5x40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 20
CALC = 
NORMALIZE(SICxAMT_SD_AVGDIST_NOFRA_AVG_5E_98S, SICxAMT_SD_AVGDIST_NOFRA_AVG_40E_98S, MAX_RATIO, CON_0);

VAR  N_SICxAMT_RISK_5Ex40E_NMN_98S : FLOAT
GRP = VARS
RCOD = 20
CALC = 
NORMALIZE(SICxAMT_RISK_PER_AUTH_5E_98S, SICxAMT_RISK_PER_AUTH_40E_98S, MAX_RATIO, CON_0);


//
//*********
//  prof vars for 2631
//*********
//
// PROF
VAR  MAXP_TELEPHONE_6M_98S : FLOAT
GRP = VARS
RCOD = 3;

VAR  MAXP_CnATM_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P146
RCOD = 15;

VAR  MAXP_GE_180_DOL_ATM_0_7_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P153
RCOD = 14;

VAR  MAXP_GE_180_DOL_CASH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P154
RCOD = 3;

VAR  MAXP_UNATTENDED_GAS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P220
RCOD = 18;

VAR  MAXB_TELEPHONE_6M_98S : FLOAT
GRP = VARS
RCOD = 3;

VAR  MAXB_CnATM_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P118
RCOD = 15;

VAR  MAXB_GE_180_DOL_ATM_0_7_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P124
RCOD = 14;

VAR  MAXB_GE_180_DOL_CASH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P125
RCOD = 3;

VAR  MAXB_UNATTENDED_GAS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P219
RCOD = 18;

VAR  MAXP_DD_AU_1Hx6M_98S : FLOAT
GRP = VARS
MAP = PROF.P147
RCOD = 8;

VAR  MAXB_DD_AU_1Hx6M_98S : FLOAT
GRP = VARS
MAP = PROF.P119
RCOD = 8;

VAR  MAXP_CONS_CB_AT_CURR_LOC_6M_98S : FLOAT
GRP = VARS
RCOD = 6;

VAR  MAXB_CONS_CB_AT_CURR_LOC_6M_98S : FLOAT
GRP = VARS
RCOD = 6;

VAR  MAXP_CONS_HI_DOL_TRANS_6M_98S : FLOAT
GRP = VARS
RCOD = 4;

VAR  MAXB_CONS_HI_DOL_TRANS_6M_98S : FLOAT
GRP = VARS
RCOD = 4;

VAR  MAXP_CONS_LO_DOL_TRANS_6M_98S : FLOAT
GRP = VARS
RCOD = 5;

VAR  MAXB_CONS_LO_DOL_TRANS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P116
RCOD = 5;

VAR  MAXP_CONS_INCREASING_APPROVE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P144
RCOD = 7;

VAR  MAXB_CONS_INCREASING_APPROVE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P115
RCOD = 7;

VAR  MAXP_CONS_ONE_DOL_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P145
RCOD = 5;

VAR  MAXB_CONS_ONE_DOL_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P117
RCOD = 5;

VAR  MAXP_3W_DOL_ATM_SQ_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P143
RCOD = 14;

VAR  MAXB_3W_DOL_ATM_SQ_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P114
RCOD = 14;

VAR  MAXP_TOTAL_RISKRATE_KEYED_6M_98S : FLOAT
GRP = VARS
RCOD = 13;

VAR  MAXB_TOTAL_RISKRATE_KEYED_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P126
RCOD = 13;

VAR  MAXP_GEO_RISK_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P152
RCOD = 6;

VAR  MAXB_GEO_RISK_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P180
RCOD = 6;

VAR  MAXP_TIME_RISK_RATE_6M_98S : FLOAT
GRP = VARS
RCOD = 1;

VAR  MAXB_TIME_RISK_RATE_6M_98S : FLOAT
GRP = VARS
RCOD = 1;

VAR  MAXP_CONS_HI_DOL_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P209
RCOD = 4;

VAR  MAXB_CONS_HI_DOL_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P210
RCOD = 4;

VAR  MAXP_DOL_CnATM_AUTH_6M_98S : FLOAT
GRP = VARS
RCOD = 15;

VAR  MAXB_DOL_CnATM_AUTH_6M_98S : FLOAT
GRP = VARS
RCOD = 15;

VAR  MAXP_DOL_CorM_AUTH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P151
RCOD = 4;

VAR  MAXB_DOL_CorM_AUTH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P123
RCOD = 4;

VAR  MAXP_DLY_RATE_DD1D_98S : FLOAT
GRP = VARS
MAP = PROF.P148
RCOD = 8;

VAR  MAXB_DLY_RATE_DD1D_98S : FLOAT
GRP = VARS
MAP = PROF.P120
RCOD = 8;

VAR  MAXP_DLY_RATE_DN1D_98S : FLOAT
GRP = VARS
MAP = PROF.P201
RCOD = 8;

VAR  MAXB_DLY_RATE_DN1D_98S : FLOAT
GRP = VARS
MAP = PROF.P202
RCOD = 8;

VAR  MAXP_DLY_RATE_DD1D_CxA_98S : FLOAT
GRP = VARS
RCOD = 8;

VAR  MAXB_DLY_RATE_DD1D_CxA_98S : FLOAT
GRP = VARS
RCOD = 8;

VAR  MAXP_DLY_RATE_DD1D_MxA_98S : FLOAT
GRP = VARS
MAP = PROF.P149
RCOD = 8;

VAR  MAXB_DLY_RATE_DD1D_MxA_98S : FLOAT
GRP = VARS
MAP = PROF.P121
RCOD = 8;

VAR  MAXP_DLY_RATE_DN1D_MxA_98S : FLOAT
GRP = VARS
MAP = PROF.P150
RCOD = 8;

VAR  MAXB_DLY_RATE_DN1D_MxA_98S : FLOAT
GRP = VARS
MAP = PROF.P122
RCOD = 8;

VAR  MAXP_SICxAMT_RISK_RATE_6M_98S : FLOAT
GRP = VARS
RCOD = 20;

VAR  MAXB_SICxAMT_RISK_RATE_6M_98S : FLOAT
GRP = VARS
RCOD = 20;

VAR  DO_SHIFT_98S : FLOAT
GRP = VARS
RCOD = 0
CALC = 
VAR
   LST_AGE, TMP : NUMERIC;
BEGIN
   LST_AGE := AU_LAST_AGE_98S  ;

   TMP := Trunc(ACCT_AGE_ADJUST_98S  /SAFE_TIME) - Trunc(LST_AGE/SAFE_TIME);
   IF (TMP > 1) THEN
      TMP := 2;
   ELSE IF (TMP = 1) THEN
      TMP := 1;
   ELSE
      TMP := 0;
   RETURN(TMP);
ENDVAR;

VAR  MAX_CONS_HI_DOL_RATE_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P208
RCOD = 4
CALC = 
MAX_DECAY(MAX_CONS_HI_DOL_RATE_2D_98S, IS_AUTH, CONS_HI_DOL_RATE_98S, AUTH_DECAY_COEF_2DAY_98S);

VAR  MAX_CONS_HI_DOL_RATE_SAFE_98S : FLOAT
GRP = VARS
MAP = PROF.P206
RCOD = 4
CALC = 
MAX_DECAY(MAX_CONS_HI_DOL_RATE_SAFE_98S, IS_AUTH, CONS_HI_DOL_RATE_98S, AUTH_DECAY_COEF_SAFE_TIME_98S);

VAR  MAX_DOL_ATM_DorA_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P156
RCOD = 14
CALC = 
MAX_DECAY(MAX_DOL_ATM_DorA_2D_98S, IS_AUTH, DOL_ATM_98S, AUTH_DECAY_COEF_2DAY_98S);

VAR  MAX_DOL_ATM_DorA_SAFE_98S : FLOAT
GRP = VARS
MAP = PROF.P157
RCOD = 14
CALC = 
MAX_DECAY(MAX_DOL_ATM_DorA_SAFE_98S, IS_AUTH, DOL_ATM_98S, AUTH_DECAY_COEF_SAFE_TIME_98S);

VAR  MAX_DOL_MERCH_AUTH_SAFE_98S : FLOAT
GRP = VARS
MAP = PROF.P159
RCOD = 5
CALC = 
MAX_DECAY(MAX_DOL_MERCH_AUTH_SAFE_98S, IS_AUTH, DOL_MERCH_APPR_98S, AUTH_DECAY_COEF_SAFE_TIME_98S);

VAR  MAX_DOL_CorM_AUTH_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P158
RCOD = 4
CALC = 
MAX_DECAY(MAX_DOL_CorM_AUTH_2D_98S, IS_AUTH, DOL_APPROVED_98S, AUTH_DECAY_COEF_2DAY_98S);

VAR  MAXM_TELEPHONE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P141
RCOD = 17
CALC = 
MAX_SHIFT(MAXM_TELEPHONE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_TELEPHONE_6M_98S, MAXB_TELEPHONE_6M_98S, TELEPHONE_3D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_GE_180_DOL_ATM_0_7_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P139
RCOD = 14
CALC = 
MAX_SHIFT(MAXM_GE_180_DOL_ATM_0_7_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_GE_180_DOL_ATM_0_7_6M_98S, MAXB_GE_180_DOL_ATM_0_7_6M_98S, GE_180_DOL_ATM_0_7_3D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_GE_180_DOL_CASH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P140
RCOD = 3
CALC = 
MAX_SHIFT(MAXM_GE_180_DOL_CASH_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_GE_180_DOL_CASH_6M_98S, MAXB_GE_180_DOL_CASH_6M_98S, GE_180_DOL_CASH_3D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_CnATM_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P133
RCOD = 15
CALC = 
MAX_SHIFT(MAXM_CnATM_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CnATM_6M_98S, MAXB_CnATM_6M_98S, CnATM_3D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_UNATTENDED_GAS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P218
RCOD = 18
CALC = 
MAX_SHIFT(MAXM_UNATTENDED_GAS_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_UNATTENDED_GAS_6M_98S, MAXB_UNATTENDED_GAS_6M_98S, UNATTENDED_GAS_3D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DD_AU_1Hx6M_98S : FLOAT
GRP = VARS
MAP = PROF.P134
RCOD = 8
CALC = 
MAX_SHIFT(MAXM_DD_AU_1Hx6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DD_AU_1Hx6M_98S, MAXB_DD_AU_1Hx6M_98S, DAILY_DOL_AUTH_1H_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_CONS_CB_AT_CURR_LOC_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P128
RCOD = 6
CALC = 
MAX_SHIFT(MAXM_CONS_CB_AT_CURR_LOC_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CONS_CB_AT_CURR_LOC_6M_98S, MAXB_CONS_CB_AT_CURR_LOC_6M_98S, CONS_CB_AT_CURR_LOC_30MIN_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_CONS_HI_DOL_TRANS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P129
RCOD = 4
CALC = 
MAX_SHIFT(MAXM_CONS_HI_DOL_TRANS_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CONS_HI_DOL_TRANS_6M_98S, MAXB_CONS_HI_DOL_TRANS_6M_98S, CONS_HI_DOL_TRANS_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_CONS_LO_DOL_TRANS_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P131
RCOD = 5
CALC = 
MAX_SHIFT(MAXM_CONS_LO_DOL_TRANS_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CONS_LO_DOL_TRANS_6M_98S, MAXB_CONS_LO_DOL_TRANS_6M_98S, CONS_LO_DOL_TRANS_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAX_INCREASING_APPROVE_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P160
RCOD = 7
CALC = 
MAX_DECAY(MAX_INCREASING_APPROVE_2D_98S, IS_AUTH, CONS_INCREASING_APPROVE_1D_98S, AUTH_DECAY_COEF_2DAY_98S);

VAR  MAXM_CONS_INCREASING_APPROVE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P130
RCOD = 7
CALC = 
MAX_SHIFT(MAXM_CONS_INCREASING_APPROVE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CONS_INCREASING_APPROVE_6M_98S, MAXB_CONS_INCREASING_APPROVE_6M_98S, CONS_INCREASING_APPROVE_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_CONS_ONE_DOL_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P132
RCOD = 5
CALC = 
MAX_SHIFT(MAXM_CONS_ONE_DOL_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CONS_ONE_DOL_6M_98S, MAXB_CONS_ONE_DOL_6M_98S, CONS_ONE_DOL_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAX_CONS_SAME_AMT_AGAIN_2D_98S : FLOAT
GRP = VARS
MAP = PROF.P155
RCOD = 5
CALC = 
MAX_DECAY(MAX_CONS_SAME_AMT_AGAIN_2D_98S, IS_AUTH, CONS_SAME_AMT_AGAIN_1D_98S, AUTH_DECAY_COEF_2DAY_98S);

VAR  MAX_CONS_APPRV_15MINx2D_98S : FLOAT
GRP = VARS
MAP = PROF.P204
RCOD = 8
CALC = 
MAX_DECAY(MAX_CONS_APPRV_15MINx2D_98S, IS_AUTH, CONS_APPROVE_15MIN_98S, AUTH_DECAY_COEF_2DAY_98S);

VAR  MAXM_3W_DOL_ATM_SQ_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P127
RCOD = 14
CALC = 
MAX_SHIFT(MAXM_3W_DOL_ATM_SQ_RATE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_3W_DOL_ATM_SQ_RATE_6M_98S, MAXB_3W_DOL_ATM_SQ_RATE_6M_98S, DOL_ATM_SQ_RATE_3W_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_TOTAL_RISKRATE_KEYED_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P142
RCOD = 13
CALC = 
MAX_SHIFT(MAXM_TOTAL_RISKRATE_KEYED_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_TOTAL_RISKRATE_KEYED_6M_98S, MAXB_TOTAL_RISKRATE_KEYED_6M_98S, TOTAL_RISKRATE_KEYED_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_GEO_RISK_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P179
RCOD = 6
CALC = 
MAX_SHIFT(MAXM_GEO_RISK_RATE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_GEO_RISK_RATE_6M_98S, MAXB_GEO_RISK_RATE_6M_98S, GEO_RISKRATE_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_TIME_RISK_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P182
RCOD = 1
CALC = 
MAX_SHIFT(MAXM_TIME_RISK_RATE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_TIME_RISK_RATE_6M_98S, MAXB_TIME_RISK_RATE_6M_98S, TIME_RISKRATE_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_CONS_HI_DOL_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P211
RCOD = 4
CALC = 
MAX_SHIFT(MAXM_CONS_HI_DOL_RATE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_CONS_HI_DOL_RATE_6M_98S, MAXB_CONS_HI_DOL_RATE_6M_98S, CONS_HI_DOL_RATE_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DOL_CnATM_AUTH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P137
RCOD = 15
CALC = 
MAX_SHIFT(MAXM_DOL_CnATM_AUTH_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DOL_CnATM_AUTH_6M_98S, MAXB_DOL_CnATM_AUTH_6M_98S, DOL_CnATM_APPR_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DOL_CorM_AUTH_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P138
RCOD = 4
CALC = 
MAX_SHIFT(MAXM_DOL_CorM_AUTH_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DOL_CorM_AUTH_6M_98S, MAXB_DOL_CorM_AUTH_6M_98S, DOL_APPROVED_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DLY_RATE_DD1D_98S : FLOAT
GRP = VARS
MAP = PROF.P135
RCOD = 8
CALC = 
MAX_SHIFT(MAXM_DLY_RATE_DD1D_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DLY_RATE_DD1D_98S, MAXB_DLY_RATE_DD1D_98S, DAILY_DOL_AUTH_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DLY_RATE_DN1D_98S : FLOAT
GRP = VARS
MAP = PROF.P200
RCOD = 8
CALC = 
MAX_SHIFT(MAXM_DLY_RATE_DN1D_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DLY_RATE_DN1D_98S, MAXB_DLY_RATE_DN1D_98S, DAILY_NUM_AUTH_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DLY_RATE_DD1D_CxA_98S : FLOAT
GRP = VARS
MAP = PROF.P197
RCOD = 8
CALC = 
MAX_SHIFT(MAXM_DLY_RATE_DD1D_CxA_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DLY_RATE_DD1D_CxA_98S, MAXB_DLY_RATE_DD1D_CxA_98S, DAILY_DOL_AUTH_CxA_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DLY_RATE_DD1D_MxA_98S : FLOAT
GRP = VARS
MAP = PROF.P199
RCOD = 8
CALC = 
MAX_SHIFT(MAXM_DLY_RATE_DD1D_MxA_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DLY_RATE_DD1D_MxA_98S, MAXB_DLY_RATE_DD1D_MxA_98S, DAILY_DOL_AUTH_MxA_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_DLY_RATE_DN1D_MxA_98S : FLOAT
GRP = VARS
MAP = PROF.P136
RCOD = 8
CALC = 
MAX_SHIFT(MAXM_DLY_RATE_DN1D_MxA_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_DLY_RATE_DN1D_MxA_98S, MAXB_DLY_RATE_DN1D_MxA_98S, DAILY_NUM_AUTH_MxA_1D_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  MAXM_SICxAMT_RISK_RATE_6M_98S : FLOAT
GRP = VARS
MAP = PROF.P181
RCOD = 20
CALC = 
MAX_SHIFT(MAXM_SICxAMT_RISK_RATE_6M_98S, IS_AUTH, CON_0, DO_SHIFT_98S, MAXP_SICxAMT_RISK_RATE_6M_98S, MAXB_SICxAMT_RISK_RATE_6M_98S, SICxAMT_RISKRATE_98S, AUTH_DECAY_COEF_6MON_98S);

VAR  N_DD_AUTH_1D_NMX_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
NORMALIZE(DAILY_DOL_AUTH_1D_98S, MAXP_DLY_RATE_DD1D_98S, MAX_RATIO, CON_0);

VAR  N_DD_AUTH_MxA_1Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
NORMALIZE(DAILY_DOL_AUTH_MxA_1D_98S, MAXP_DLY_RATE_DD1D_MxA_98S, MAX_RATIO, CON_0);

VAR  N_DN_AUTH_MxA_1Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
NORMALIZE(DAILY_NUM_AUTH_MxA_1D_98S, MAXP_DLY_RATE_DN1D_MxA_98S, MAX_RATIO, CON_0);

VAR  N_CnATM_3Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 15
CALC = 
NORMALIZE(CnATM_3D_98S, MAXP_CnATM_6M_98S, MAX_RATIO, CON_0);

VAR  N_GE_180_DOL_ATM_0_7_3Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 14
CALC = 
NORMALIZE(GE_180_DOL_ATM_0_7_3D_98S, MAXP_GE_180_DOL_ATM_0_7_6M_98S, MAX_RATIO, CON_0);

VAR  N_GE_180_DOL_CASH_3Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 16
CALC = 
NORMALIZE(GE_180_DOL_CASH_3D_98S, MAXP_GE_180_DOL_CASH_6M_98S, MAX_RATIO, CON_0);

VAR  N_UNATTENDED_GAS_3Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 18
CALC = 
NORMALIZE(UNATTENDED_GAS_3D_98S, MAXP_UNATTENDED_GAS_6M_98S, MAX_RATIO, CON_0);

VAR  N_DD_AU_1Hx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 8
CALC = 
NORMALIZE(DAILY_DOL_AUTH_1H_98S, MAXP_DD_AU_1Hx6M_98S, MAX_RATIO, CON_0);

VAR  N_CONS_INCR_APPROVE_1Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 7
CALC = 
NORMALIZE(CONS_INCREASING_APPROVE_1D_98S, MAXP_CONS_INCREASING_APPROVE_6M_98S, MAX_RATIO, CON_0);

VAR  N_CONS_ONE_DOL_1Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
NORMALIZE(CONS_ONE_DOL_1D_98S, MAXP_CONS_ONE_DOL_6M_98S, MAX_RATIO, CON_0);

VAR  N_CONS_HI_DOLRATE_2Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 4
CALC = 
NORMALIZE(MAX_CONS_HI_DOL_RATE_2D_98S, MAXP_CONS_HI_DOL_RATE_6M_98S, MAX_RATIO, CON_0);

VAR  N_DOL_CorM_AUTH_2Dx6M_NMX_98S : FLOAT
GRP = VARS
RCOD = 5
CALC = 
NORMALIZE(MAX_DOL_CorM_AUTH_2D_98S, MAXP_DOL_CorM_AUTH_6M_98S, MAX_RATIO, CON_0);


//
//*********
//  Variables copied from MAX file (xxs)
//*********
//
// MAXVARXXS
VAR  IS_VACATION_98S : FLOAT
GRP = MAXVARXXS
ALT = VAC_IND
RCOD = 3
CALC = 
BEGIN
   IF(( CURRENT_SIC  = 3389 ) OR ( CURRENT_SIC  = 4511 ) OR ( CURRENT_SIC  = 3640 )
      OR ( CURRENT_SIC  = 3060 ) OR ( CURRENT_SIC  = 3063 ) OR ( CURRENT_SIC  = 7523 )
      OR ( CURRENT_SIC  = 3058 ) OR ( CURRENT_SIC  = 3509 ) OR ( CURRENT_SIC  = 3649 )
      OR ( CURRENT_SIC  = 3351 ) OR ( CURRENT_SIC  = 7549 ) OR ( CURRENT_SIC  = 3000 )
      OR ( CURRENT_SIC  = 3503 ) OR ( CURRENT_SIC  = 4722 ) OR ( CURRENT_SIC  = 7941 )
      OR ( CURRENT_SIC  = 7011 ) OR ( CURRENT_SIC  = 3357 ) OR ( CURRENT_SIC  = 4789 )
      OR ( CURRENT_SIC  = 5698 ) OR
      SIC_VISA_98S  = 1 OR  SIC_VISA_98S  = 2) THEN
      RETURN(1);
   ELSE
      RETURN(0);
ENDVAR;

VAR  DOL_VACATION_98S : FLOAT
GRP = MAXVARXXS
ALT = CDVAC
RCOD = 3
CALC = 
FLOAT_MUL(DOL_AMT, IS_VACATION_98S);

VAR  GEO_SDEVS_DIST_FRAUD_98S : FLOAT
GRP = MAXVARXXS
ALT = CGEODF
RCOD = 6
CALC = 
FAL_RISK_Z(DIST_FROM_HOME_98S, GEO_RISK_98S.FSTDDIST, GEO_RISK_98S.FMEANDIST, DEF_GEO_RISK_98S.FSTDDIST, DEF_GEO_RISK_98S.FMEANDIST);

VAR  IS_FOREIGN_98S : FLOAT
GRP = MAXVARXXS
RCOD = 21
CALC = 
BEGIN
  IF (MCNTRY_RAW  <> CCNTRY_RAW ) THEN RETURN(1);
  ELSE RETURN(0);
ENDVAR;

VAR  IS_PIN_DECLINE_98S : FLOAT
GRP = MAXVARXXS
ALT = PIN_DEC
RCOD = 7
CALC = 
STR_EQL(TRAN.AUTH_PIN_VERIFY, CON_I);

VAR  TIME_SDEVS_DOL_FRAUD_98S : FLOAT
GRP = MAXVARXXS
ALT = CTOWAF
RCOD = 1
CALC = 
FAL_RISK_Z(DOL_AMT, HOW_RISK_98S.FSTDAMT, HOW_RISK_98S.FMEANAMT, DEF_HOW_RISK_98S.FSTDAMT, DEF_HOW_RISK_98S.FMEANAMT);

VAR  TIME_SDEVS_DOL_NONFRAUD_98S : FLOAT
GRP = MAXVARXXS
ALT = CTOWAN
RCOD = 1
CALC = 
FAL_RISK_Z(DOL_AMT, HOW_RISK_98S.NFSTDAMT, HOW_RISK_98S.NFMEANAMT, DEF_HOW_RISK_98S.NFSTDAMT, DEF_HOW_RISK_98S.NFMEANAMT);

VAR  TIME_SDEVS_DIST_FRAUD_98S : FLOAT
GRP = MAXVARXXS
ALT = CTOWDF
RCOD = 1
CALC = 
FAL_RISK_Z(DIST_FROM_HOME_98S, HOW_RISK_98S.FSTDDIST, HOW_RISK_98S.FMEANDIST, DEF_HOW_RISK_98S.FSTDDIST, DEF_HOW_RISK_98S.FMEANDIST);

VAR  TIME_SDEVS_DIST_NONFRAUD_98S : FLOAT
GRP = MAXVARXXS
ALT = CTOWDN
RCOD = 1
CALC = 
FAL_RISK_Z(DIST_FROM_HOME_98S, HOW_RISK_98S.NFSTDDIST, HOW_RISK_98S.NFMEANDIST, DEF_HOW_RISK_98S.NFSTDDIST, DEF_HOW_RISK_98S.NFMEANDIST);

//
//*********
//  Derived Variables (xxs)
//*********
//
// DVARXXS
VAR  N_DN_AUTH_1Dx6M_NMX_98S : FLOAT
GRP = DVARXXS
RCOD = 8
CALC = 
NORMALIZE(DAILY_NUM_AUTH_1D_98S, MAXP_DLY_RATE_DN1D_98S, MAX_RATIO, CON_0);

VAR  N_DOL_ATM_SQ_RATE_NMX_98S : FLOAT
GRP = DVARXXS
RCOD = 14
CALC = 
NORMALIZE(DOL_ATM_SQUARED_98S, MAXP_3W_DOL_ATM_SQ_RATE_6M_98S, MAX_RATIO, CON_0);

VAR  N_GEO_RISK_1Ex6M_NMX_98S : FLOAT
GRP = DVARXXS
RCOD = 6
CALC = 
NORMALIZE(GEO_RISK_AVG_1E_98S, MAXP_GEO_RISK_RATE_6M_98S, MAX_RATIO, CON_0);

VAR  N_CONS_APPRV_15MINx2D_NMN_98S : FLOAT
GRP = DVARXXS
RCOD = 7
CALC = 
NORMALIZE(MAX_CONS_APPRV_15MINx2D_98S, CONS_APPROVE_15MIN_98S, MAX_RATIO, CON_0);

VAR  N_NUM_MERCH_RATE_1Dx7D_NMN_98S : FLOAT
GRP = DVARXXS
RCOD = 10
CALC = 
NORMALIZE(NUM_MERCH_RATE_1D_98S, NUM_MERCH_RATE_7D_98S, MAX_RATIO, CON_0);

