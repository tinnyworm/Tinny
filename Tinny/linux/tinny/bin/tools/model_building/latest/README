1. Run prep_templates.sh (/home/dxl/tools/shell/)

   prep_templates.sh <model cnf file> <segment name> \
                  <new model name> <new segment name> \
                  [<destination dir>]

2. Manually fix <new model name>.rul
		
   only leave FIRE_MODEL("<new segment name>",STATUS) and related rules

3. Run prep_model

   prep_model --scale <new segment name>

4. Manually fix model rules (<new segment name>)

   * replace <risktable name> --> risk_table_here in INCLUDE
   * replace old calibration table name to the new one
   * change TERMINATE without error to TERMINATE NO_ERROR
   * change score mapping if necessary (the recent model rules assume the
     nnet return [-1,1], not [1,999])

5. generate <new segment name>ScrCal

   cat <old segment name>ScrCal | \
   sed "s/<old segment name>/<new segment name>/g" | \
   perl -ne 'if(/^\d/){@s=split /,/; print "$s[0],$s[0]\n";}else{print
	   $_;}' | \
   sed "s/1000,1000/1000,999/g" > <new segment name>ScrCal 

6. Run model_copy40.sh, copy model from templat to scale

   model_copy40.sh template/<new model name>.cnf scale

   note: it will complain there is no risk_table_here file, this is ok
