3 Way Split

Falconer4 hashes card numbers into 100 bins. By default 25% is used for
testing and 75% for training. When we do counting usually we count all the
auths. When falconer4 creates scale file it tags 75% of the records as
training and 25% as testing. Test records in the scale file are part of the
bigger test data used for evaluating the model. SO if you are using 50% of
all auths for your scale file that means 50% of the test auths which will be
used for final evaluation will be used in nnet training for deciding when to
stop training. This creates the danger of overfitting the data. Performance
on the test set will look good but modeler will not know the model is
overfitting until the model is used in production. 

To overcome this, we must do 3 way split. 

1. Do all counting on training data. (use -t train, see below), then in the
mgen spreadsheet, use as much as data possible, try to make 100% use of
fraud.   

2. Create the scale file only using training data (use -t train option for
	 falconer4, note this will reserve 25% for test, 75% for training, and
	 only score those in training bin)

3. Use /home/oxb/bin/3waysplit to retag 25% of the records in scale file as
test data. These will be independent of the test data which will be used for
evaluation. 

	3waysplit -t youfcr20 -b out/bScr.scale.gz -p 19 

 Command Line Arguments for the Script: 

-b <bigscore file>  : big score file for the scale file (default is "out/bScr.scale.gz")
-p <percent test>   : percent of the data to be retag as test 
                      (default is 19. this gives around 25% test data.
								  19/75=0.253)
-t <base name>      : base model name
-h                  : Print help information
-v                  : Print version of the program.

 3waysplit calls /work/price/falcon/bin/hashtagblind to retag the tag file.

Usage: hashtagblind [test]

hashtagblind reads from STDIN and generate to STDOUT, the format is

[line_number] test|train|blind

25% of accounts get labeled 'blind', [test] get labeled 'test', the rest
'train'

In this case, because only 75% train data is scored, there won't be any
"blind", [test]% (out of whole 100% data) is labeled as 'test', the rest of
it will be labeled as 'train'
	 
Doing 3way split is very important for smaller segments (e.g. high dollar, young etc.). 
