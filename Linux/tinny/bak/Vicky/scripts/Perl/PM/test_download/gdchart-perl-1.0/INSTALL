We now have a Makefile.PL which should automate the install for you:

perl Makefile.PL
make
make install

Note that if you're using a preexisting C gdchart installation, you'll have to
specify the directory for that in Makefile.PL.  Otherwise, touch nothing and you
should be cool.

Note that there are often warnings generated about qsort, MAX and MIN and values.h. 
Don't worry about these.
 
This method has worked on Solaris and Linux.  If it doesn't work for you,
you'll have to do this:

1.  Build the C version of gdchart.  Source and makefiles are located in the
gdchart-0.94b subdirectory.

2.  Compile the wrapper.  This is the gdchart_wrap.c file located in this
directory.

This compilation requires perl header files which will be located in the CORE
subdirectory of your distribution as well as the header files from the C 
gdchart distribution.  For example,  

gcc -c gdchart_wrap.c -I /usr/local/lib/perl5/sun4-solaris/5.00404/CORE -I gdchart0.94b/

Unless you're running perl version 5.00404 on Solaris, yours will be located
elsewhere.  Hunt around.

I had a problem compiling this wrapper initially on Linux.  The problem is
that the perl wrappers require type bool to be defined, which gcc does not
include by default.  To fix, add this switch to gcc:

gcc -DNEED_BOOL -c gdchart_wrap.c -I ....

and you should be good to go.

3.  Link the library.  Assuming the compiled wrapper is gdchart_wrap.o,
this ought to do it:

ld -G gdc_pie.o gdchart.o price_conv.o gdc.o gdchart_wrap.o -o gdchart.so -lgd 

Note that this assumes a couple of things.  One is that the object files from
the C distribution (gdchart.o, gdc_pie.o, etc.) are in the current directory.
To use the above command line, you'd have to copy them there.

The other assumption is that libgd.a is in your LIBPATH.  If the only gd
distribution you have is the one included in the C gdchart distribution,
you'll have to copy your libgd.a into your LIBPATH.  /usr/lib is a pretty
safe bet.

4.  Copy gdchart.pm and gdchart.so into your @INC path.  Where's that?
Try printing @INC from a perl script.  One place it's sure to be is the
same location of the CORE directory (not in the CORE directory, but the
directory which the CORE directory is placed in).

If everything above went smoothly, you should be good to go.  See the README
and the docs for usage information.

--matt hempel
mhempel@aestus.net
