<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
	<title>Edit XML Documents with Emacs and nXML</title>
	<meta name="keywords" content=" ,O'Reilly Media,O'Reilly author, oreilly.com,oreilly,o'reilly" />
	<meta name="description" content="nXML mode for GNU Emacs provides a powerful environment for creating valid XML documents" />
	<meta name="date" content="Sep. 13, 2004" />
	<meta name="search_date" content="2004-09-13" />
	<meta name="pagename" content="Edit XML Documents with Emacs and nXML" />
	<meta name="site" content="O'Reilly Network" />
	<meta name="author" content="" />
	<meta name="safariu_url" content="" />

<title>hacks.oreilly.com -- O'Reilly Hacks Series</title>

<!-- feed autodiscovery links -->
<link rel="alternate" type="application/atom+xml" title="Hacks" href="http://www.oreillynet.com/pub/feed/23" />

<link rel="alternate" type="application/rdf+xml" title="Hacks" href="http://www.oreillynet.com/pub/feed/23?format=rss1" />

<link rel="alternate" type="application/rss+xml" title="Hacks" href="http://www.oreillynet.com/pub/feed/23?format=rss2" />


<!-- js -->
<script language="JavaScript" type="text/javascript" src="http://www.oreillynet.com/common.js"></script>
<link rel="STYLESHEET" type="text/css" href="http://www.oreillynet.com/styles/main.css" />
</head>
<body bgcolor="#ffffff" text="#000000" marginwidth="0" marginheight="0" leftmargin="0" rightmargin="0" topmargin="0">

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td>
<!-- header -->
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td><a href="http://www.oreilly.com/"><img src="/images/hacks/header_part1.gif" width="130" height="102" border="0" alt="O'Reilly" /></a></td>
<td align="middle"><a href="http://hacks.oreilly.com"><img src="/images/hacks/header_part2.gif" width="450" height="102" border="0" alt="Hacks" /></a></td>
<td align="left"><img src="/images/hacks/header_part3.gif" width="130" height="102" border="0" alt=" " /></td>
</tr>
</table>
</td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<!-- tabs -->
<td valign="bottom"><nobr><a href="http://www.oreilly.com/"><img src="/images/oreilly/tab_ora_blue.gif" border="0" width="81" height="16" alt="oreilly.com"></a><a href="http://www.oreillynet.com/"><img src="/images/oreilly/tab_orn2.gif" border="0" width="110" height="16" alt="O'Reilly Network"></a><a href="http://safari.oreilly.com/"><img src="/images/oreilly/tab_safari.gif" border="0" width="114" height="16" alt="Safari Bookshelf"></a><a href="http://conferences.oreilly.com/"><img src="/images/oreilly/tab_conf.gif" border="0" width="88" height="16" alt="Conferences"></a></nobr></td>
<td align="right" valign="bottom" height="30" width="100%" class="tiny"><!-- nobr><a href="https://epoch.oreilly.com/account/myaccount.orm">Sign In/My Account</a> | <a href="http://epoch.oreilly.com/shop/cart.orm">View Cart</a>&nbsp;&nbsp;&nbsp;</nobr -->

<nobr><a href="https://epoch.oreilly.com/account/default.orm" class="v1">Sign In/My Account</a>&nbsp;|&nbsp;<a href="https://epoch.oreilly.com/shop/cart.orm" class="v1">View Cart</a>&nbsp;&nbsp;&nbsp;</nobr></td>
</tr>
<!-- Horizontal Nav Links -->
<tr><td colspan="2" width="100%"><table border="0" cellpadding="0" cellspacing="1" class="topmenu">
<tr>
<td style="background-color:#000099;" width="64"><a href="http://www.oreilly.com/catalog/">Book List</a></td>
<td style="background-color:#000099;" width="86"><a href="http://learninglab.oreilly.com/?CMP=ILC-X95O50359550">Learning&nbsp;Lab</a></td>
<td style="background-color:#000099;" width="86"><a href="http://www.oreilly.com/store/pdfs.html">PDFs</a></td>
<td style="background-color:#000099;" width="86"><a href="http://www.thinkgeek.com/oreilly/">O'Reilly&nbsp;Gear</a></td>
<td style="background-color:#000099;" width="80"><a href="http://www.oreillynet.com/cs/nl/home">Newsletters</a></td>
<td style="background-color:#000099;" width="80"><a href="http://press.oreilly.com/">Press Room</a></td>
<td style="background-color:#000099;" width="40"><a href="http://jobs.oreilly.com/">Jobs</a></td>

<!-- Flags -->
<td style="background-color:#000099;text-align:left;vertical-align:bottom;" width="*">&nbsp;</td>
<!-- END Flags -->

</tr>
</table></td></tr>
</table>

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<!-- navbar -->
<td width="135" valign="top" bgcolor="#000000"><img src="http://oreillynet.com/images/trans.gif" width="145" height="1" alt=" " /><br />
<!--csinclude record="sc/1028" field="html" />
<csinclude record="sc/1033" field="html" sitecode="oreilly" /><br />
<csinclude record="sc/1110" field="html" -->
<div class="noindex">
<table border="0" cellpadding="1" cellspacing="0" width="140" bgcolor="#000000">
<tr>
<td rowspan="120">&nbsp;</td>
</tr>
<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="6" alt=" " /></td>
</tr>
<!-- Search -->
<tr><td colspan="2" class="nav2">Search</td></tr>

<tr>
<td colspan="2" class="nav"><noindex>
<form method="get" action="http://search.atomz.com/search/"  id="search" name="searchForm" onSubmit="processQuery();">
<nobr><input type="text" name="query" size="10" maxlength="80" value="" />&nbsp;<input type="submit" name="search" value="Go" /></nobr>
<input type="hidden" name="sp-q">
<input name="sp-a" value="sp1000a5a9" type="hidden" />
<input name="sp-f" value="ISO-8859-1" type="hidden" />
<input name="sp-t" value="search" type="hidden" />
<input name="sp-x-1" value="cat" type="hidden">
<input name="sp-q-1" value="" type="hidden">
<input name="sp-x-2" value="cat2" type="hidden" />
<input name="sp-q-2" value="" type="hidden" />
<input name="sp-c" value="25" type="hidden" />
<input name="sp-p" value="all" type="hidden" />
<input name="c" value="" type="hidden" />
<input name="p" value="" type="hidden" />
<input type="hidden" name="sp-k" value="Articles|Books|Conferences|Other|Weblogs" />
</form>
</noindex></td>
</tr>


	
<!-- END Search -->


<tr><td colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="6" alt=" " /></td></tr>
<!-- Hacks Nav -->
<tr>
<td colspan="2">
<table bgcolor="#000099" border="0" cellpadding="4" cellspacing="0" width="120">
<tr><td>
<table bgcolor="#000099" border="0" cellpadding="2" cellspacing="0">
<tr>
<td class="nav4"><a href="http://hacks.oreilly.com" class="noline">Hacks Site</a></td>
</tr>
<tr>
<td><a href="http://hacks.oreilly.com/pub/q/hack_titles" class="nav3">&#8226; List of Titles</a></td>
</tr>
<tr>
<td><a href="http://www.oreillynet.com/oreilly/hacks/gottahack.csp" class="nav3">&#8226; Got a Hack?</a></td>
</tr>
<tr>
<td><a href="http://www.oreillynet.com/oreilly/hacks/suggestions.csp" class="nav3">&#8226; Suggestion Box</a></td>
</tr>
<tr>
<td><a href="http://hacks.oreilly.com/about.html" class="nav3">&#8226; About Hacks</a></td>
</tr>
</table>
</td></tr></table>
</td></tr>






<!-- Resource Centers -->

<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="6" alt=" " /></td>
</tr>

<tr>
<td colspan="2" class="nav2">Resource Centers</td>
</tr>
<tr>
<td colspan="2"><a href="http://bio.oreilly.com/" class="nav">Bioinformatics</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://cprog.oreilly.com/" class="nav">C/C++</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://databases.oreilly.com/" class="nav">Databases</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://digitalmedia.oreilly.com/" class="nav">Digital Media</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://enterprisedev.oreilly.com/" class="nav">Enterprise Development</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://gamedev.oreilly.com/" class="nav">Game Development</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://java.oreilly.com/" class="nav">Java</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://linux.oreilly.com/" class="nav">Linux/Unix</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://mac.oreilly.com/" class="nav">Macintosh/OS X</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://dotnet.oreilly.com/" class="nav">.NET</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://opensource.oreilly.com/" class="nav">Open Source</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://oracle.oreilly.com/" class="nav">Oracle</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://perl.oreilly.com/" class="nav">Perl</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://python.oreilly.com/" class="nav">Python</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://scripting.oreilly.com/" class="nav">Scripting</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://security.oreilly.com/" class="nav">Security</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://sd.oreilly.com/" class="nav">Software Development</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://networking.oreilly.com/" class="nav">SysAdmin/Networking</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://web.oreilly.com/" class="nav">Web</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://webservices.oreilly.com/" class="nav">Web Services</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://windows.oreilly.com/" class="nav">Windows</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://wireless.oreilly.com/" class="nav">Wireless</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://xml.oreilly.com/" class="nav">XML</a></td>
</tr>
<!-- END Resource Centers -->



<!-- BEGIN book_1 ad -->
<tr><td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td></tr>
<tr>
<td colspan="2"><div class="adtag " style="width:120px;"><!-- dy -->
<!-- begin ad tag -->
<script language="JavaScript" type="text/javascript">
//<![CDATA[
var ord = (ord != null ? ord : Math.random()*10000000000000000 );
document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/ttm.oreilly/home;sz=120x240;tile=1;ord=' + ord + '?" type="text/javascript"><\/script>');
//]]>
</script><noscript><a href="http://ad.doubleclick.net/jump/ttm.oreilly/home;sz=120x240;tile=1;ord=6140830185?" target="_blank"><img src="http://ad.doubleclick.net/ad/ttm.oreilly/home;sz=120x240;ord=123456789?" width="120" height="240" border="0" alt="" /></a></noscript>
<!-- End ad tag -->
</div>

</td>
</tr>
<tr><td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td></tr>
<!-- END ad -->


<!-- Book Series -->
<tr>

<td colspan="2" class="nav2">Book Series</td>

</tr>

<tr>
<td colspan="2"><a href="http://annoyances.oreilly.com/" class="nav">Annoyances</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://cdbookshelves.oreilly.com/" class="nav">CD Bookshelves</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://cookbooks.oreilly.com/" class="nav">Cookbooks</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://devnotebooks.oreilly.com/" class="nav">Developer's Notebooks</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://hacks.oreilly.com/" class="nav">Hacks</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://headfirst.oreilly.com/" class="nav">Head First</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://nutshells.oreilly.com/" class="nav">In A Nutshell</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.missingmanuals.com/" class="nav">Missing Manuals</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://pocketrefs.oreilly.com/" class="nav">Pocket  References</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://personaltrainer.oreilly.com/" class="nav">Personal Trainer</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://techsociety.oreilly.com/" class="nav">Technology&nbsp;&amp;&nbsp;Society</a></td>
</tr>
<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>
<!-- END Book Series -->

<!-- Publishing Partners -->
<tr>
<td colspan="2" class="nav2">Publishing Partners</td>
</tr>


<tr>
<td colspan="2"><a href="http://mandriva.oreilly.com/" class="nav">Mandriva</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://nostarch.oreilly.com/" class="nav">No Starch Press</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://paraglyph.oreilly.com/" class="nav">Paraglyph Press</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://pcp.oreilly.com/" class="nav">PC Publishing</a></td>
</tr>


<tr>
<td colspan="2"><a href="http://pragmatic.oreilly.com/" class="nav">Pragmatic Bookshelf</a></td>
</tr>


<tr>
<td colspan="2"><a href="http://sitepoint.oreilly.com" class="nav">SitePoint</a></td>
</tr>



<tr>
<td colspan="2"><a href="http://syngress.oreilly.com/" class="nav">Syngress Publishing</a></td>
</tr>

<!-- End Publishing Partners -->


<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>


<tr>
<td colspan="2"><img src="/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>

<!-- Online Publications -->
<tr>
<td colspan="2" class="nav2">Online Publications</td>
</tr>
<tr>
<td colspan="2"><a href="http://www.linuxdevcenter.com/" class="nav">LinuxDevCenter.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.macdevcenter.com/" class="nav">MacDevCenter.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.onjava.com/" class="nav">ONJava.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.onlamp.com/" class="nav">ONLamp.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://openp2p.com/" class="nav">OpenP2P.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.perl.com/" class="nav">Perl.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://webservices.xml.com/" class="nav">WebServices.XML.com</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.windowsdevcenter.com/" class="nav">WindowsDevCenter.com</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://www.xml.com/" class="nav">XML.com</a></td>
</tr>
<tr>
<td colspan="2"><img src="/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>
<!-- end Online publications -->

<!--  BEGIN optional ad or Sponsored Zones -->

<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>
<!--  END optional ad  -->

<!-- Special Interest, Special Sales, Inside O'Reilly -->
<tr>
<td colspan="2" class="nav2">Special Interest</td>
</tr>

<tr>
<td colspan="2"><a href="http://www.oreilly.com/beta/" class="nav">Beta Chapters</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://events.oreilly.com/" class="nav">Events</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.oreilly.com/editors/" class="nav">From the Editors List</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://letters.oreilly.com" class="nav">Letters</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://make.oreilly.com/" class="nav">MAKE</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://www.oreilly.com/openbook/" class="nav">Open Books</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://tim.oreilly.com" class="nav">tim.oreilly.com</a></td>
</tr>


<tr>
<td colspan="2"><img src="/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>

<tr>
<td colspan="2" class="nav2">Special Sales</td>
</tr>
<tr>
<td colspan="2"><a href="http://academic.oreilly.com" class="nav">Academic</a></td>
</tr>

<tr>
<td colspan="2"><a href="http://corporate.oreilly.com" class="nav">Corporate Services</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://government.oreilly.com" class="nav">Government</a></td>
</tr>
<tr>
<td colspan="2"><img src="/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>
<tr>
<td colspan="2" class="nav2">Inside O'Reilly</td>
</tr>
<tr>
<td colspan="2"><a href="http://www.oreilly.com/about.html" class="nav">About O'Reilly</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.oreilly.com/bookstores/index.html" class="nav">Bookstores</a></td>
</tr>
<!--tr>
<td colspan="2"><a href="https://epoch.oreilly.com/catalog/" class="nav">Catalog Request</a></td>
</tr-->
<tr><td colspan="2"><a href="http://www.oreilly.com/oreilly/contact.html" class="nav">Contact Us</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://international.oreilly.com/" class="nav">International</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://register.oreilly.com/" class="nav">Register Your Book</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://ug.oreilly.com/" class="nav">User Groups</a></td>
</tr>
<tr>
<td colspan="2"><a href="http://www.oreilly.com/oreilly/author/intro.html" class="nav">Writing for O'Reilly</a></td>
</tr>

<tr>
<td colspan="2"><img src="/images/trans.gif" width="1" height="10" alt=" " /></td>
</tr>






<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td>

</tr>



<tr><td>














































</td></tr>


<tr>
<td  colspan="2"><img src="http://oreillynet.com/images/trans.gif" width="1" height="10" alt=" " /></td>

</tr>

</table>
<!--  END navbar  -->
</div> <!-- end noindex -->
</td>

<!-- main content -->
<td valign="top"><img src="http://oreillynet.com/images/trans.gif" width="600" height="1" alt=" " /><br />
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td valign="top">
<table border="0" cellpadding="12" cellspacing="0" width="100%">
<tr><td>



<table width="120" align="right" border="0" cellpadding="1" cellspacing="0" bgcolor="#000099">
<tr>
<td>&nbsp;</td>
<td><table width="100%" border="0" cellpadding="4" cellspacing="0" bgcolor="#ffffff"><tr><td align="middle">
<b>Buy the book!</b><br /><a href="http://www.oreilly.com/catalog/xmlhks/"><img src="/images/books/0596007116_xs.gif" alt="XML Hacks" border="0" vspace="6" /></a><br />
<span class="secondary3">
By <span style="white-space: nowrap;"><a href="http://www.oreillynet.com/pub/au/1365">Michael Fitzgerald</a></span><br />
July 2004<br />
<a href="http://www.oreilly.com/catalog/xmlhks/"><b>More Info</b></a><br />
</span>
</td>
</tr>
</table>
</td>
</tr>
</table>

<a href="/pub/ht/114"><img src="/images/hacks/sub-header114.gif" border="0"></a><br /> 

<table border="0" cellpadding="0" cellspacing="0">
<tr>
<td height="10"></td></tr>
<tr>
<td valign="top">

<table border="0" cellpadding="4" cellspacing="6" align="left">
<tr>
<td bgcolor="#009999" align="middle"><span class="hdr4-w">HACK</span><br />
<span class="hdr3-w">#12</span></td>
</tr>
</table>

</td>
<td><span class="hdr3">Edit XML Documents with Emacs and nXML</span>
<br /><span class="smalltext3"><b>nXML mode for GNU Emacs provides a powerful
environment for creating valid XML documents</b><br />


<span class="author">[<a href="#thread" class="author">Discuss (<!-- -->0)</a> | <a href="/pub/h/2044" class="author">Link to this hack</a>]</span></td>
</tr>
</table>

<span class="secondary3">

<p><div class="sect1"><a name="xmlhks-CHP-2-SECT-3"/>




<p>If you've been editing
XML from within GNU Emacs using PSGML, here's a tip:
get rid of it. That's right, tear it out, dump it,
make it disappear&mdash;because there's a much
better tool available: nXML. (Grab the latest
<em class="filename">nxml-mode-200nnnnn.tar.gz</em> file from <a href="http://www.thaiopensource.com/download/">http://www.thaiopensource.com/download/</a>.)
nXML was developed by James Clark, the man who brought us groff,
expat, sgmls, SP, and Jade, as well as being a driving force behind
the development of XPath, XSLT (and before that, DSSSL), and, along
with Murata Makoto, RELAX NG (<a href="http://www.relaxng.org/">http://www.relaxng.org/</a>).</p>

<p>Which brings us back to what nXML is all about: nXML is a very clever
mechanism for doing RELAX NG-driven, context-sensitive, validated
editing. What's particularly clever about it is
that, unlike PSGML and unlike virtually every other XML editing
application available&mdash;with the exception of the Topologi
Collaborative Markup Editor (<a href="http://www.topologi.com/products/tme/">http://www.topologi.com/products/tme/</a>)&mdash;it
provides real-time, automatic visual identification of validity
errors.</p>

<p>This hack assumes that you are familiar with Emacs. The
<em class="filename">README</em> file that comes with nXML states that you
must use Emacs version 21.<em class="emphasis">x</em> (preferably 21.3 or
later) in order to use nXML. To get nXML to run in Emacs, you must
first load the <em class="filename">rng-auto.el</em> file. In Emacs, type:</p>

<blockquote><pre class="code">M-x load-file</pre></blockquote>

<p>Then load the file <em class="filename">rng-auto.el</em> from the location
where you downloaded and extracted the latest version of nXML. This
file defines the autoloads for nXML. Now open an XML document (C-x
C-f) and enter:</p>

<blockquote><pre class="code">M-x nxml-mode</pre></blockquote>

<p>You are good to go! For help, type:</p>

<blockquote><pre class="code">C-h m</pre></blockquote>


<div class="sect2"><a name="xmlhks-CHP-2-SECT-3.1"/>

<h3 class="head2">Spotting Validity Errors in Real Time</h3>

<p>What &quot;automatic visual identification of validity
errors&quot; means is that if you create and edit
documents using nXML, you never need to manually run a separate
validation step to determine whether a document is valid; i.e., if a
document contains a validity error, you will know instantly as you
edit the document because it will be visually flagged.
Here's how it works. As you're
editing a document:</p>

<ul><li>
<p>nXML incrementally reparses and revalidates the document in the
background during idle periods between the times when you are
actually typing in content. You can wait for nXML to finish
validating the entire document (which usually takes only a matter of
seconds), or if you're working with a large
document, you don't need to wait: the moment you
start typing in content, nXML will stop its background parsing and
validating until you're idle once again.</p>
</li><li>
<p>nXML describes the current validity state in the mode line at the
bottom of the Emacs interface; at any point while
you're editing a document, the mode line will say
either <tt class="literal">Valid</tt>, <tt class="literal">Invalid</tt>, or
<tt class="literal">Validated nn%</tt>, where <tt class="literal">nn</tt> is a
number indicating what percentage of the document has been validated
so far.</p>
</li><li>
<p>nXML visually highlights all instances of invalidity it finds in the
part of the document it has validated so far (by default, the value
of the Emacs face it uses is a red underline, but the highlighting
can be changed by customizing that face).</p>
</li></ul>
<p>If you mouse over or move your cursor over one of the points that
nXML has highlighted as invalid, text appears describing the validity
error, either as popup text or in the minibuffer echo area at the
bottom of the Emacs interface.   </p>

<div class="figure"><a name="xmlhks-CHP-2-FIG-2"/><img src="/images/hacks/xmlhks/figs/xmlh_0202.gif"/></div><h4 class="head4">Figure 1. nXML validation error message</h4>


</div>


<div class="sect2"><a name="xmlhks-CHP-2-SECT-3.2"/>

<h3 class="head2">Getting Help with nXML</h3>

<p>To get oriented with the basics of editing within nXML:</p>

<ul><li>
<p>Type C-h (or M-x describe-mode) for quick help with nXML commands and
key bindings.</p>
</li><li>
<p>For more extensive documentation, access the nXML manual (in texinfo
format) by typing M-x info.</p>
</li><li>
<p>Make sure to read the NEWS file in the nXML distribution; it probably
contains some late information that hasn't yet made
its way into the nXML manual.</p>
</li></ul>

</div>


<div class="sect2"><a name="xmlhks-CHP-2-SECT-3.3"/>

<h3 class="head2">Using Context-Sensitive Completion</h3>

<p>The nXML mechanism for doing context-sensitive insertion/completion
of markup is similar to the mechanism that PSGML provides. With nXML,
you:</p>

<ol><li>
<p>Place your cursor at some point in a document.</p>
</li><li>
<p>Type a keyboard combination (in the nXML case, C-Return) to do
context-sensitive checking to see what markup (elements, attributes,
or enumerated attribute values) is valid at that point in the
document; Emacs then opens up a completion buffer containing a list
of the valid markup choices.</p>
</li></ol>
<div class="figure"><a name="xmlhks-CHP-2-FIG-3"/><img src="/images/hacks/xmlhks/figs/xmlh_0203.gif"/></div><h4 class="head4">Figure 2. nXML context-sensitive completion</h4>


</div>


<div class="sect2"><a name="xmlhks-CHP-2-SECT-3.4"/>

<h3 class="head2">Making nXML Work Your Way</h3>

<p>To fine-tune the behavior of nXML:</p>

<ul><li>
<p>Explore nXML's extensive, well-documented set of
customization options by typing M-x customize-group nXML.</p>
</li><li>
<p>Even if you change no other nXML option, try setting the value of the
Nxml Sexp Element Flag option (nxml-sexp-element-flag variable) to on
(non-nil). The default value (nil) means that Emacs sexp
commands&mdash;for example, C-M-k (kill-sexp)&mdash;operate on tags.
What you probably want instead is for them to operate on elements,
which is what turning on the Nxml Sexp Element Flag option will do
for you.</p>
</li><li>
<p>Spend some time experimenting with the syntax-highlighting options;
nXML provides what must be by far the best and most configurable
syntax-highlighting capabilities of any XML editing application
currently available. Over 30 customizable Emacs faces enable you to
independently control color and character formatting of everything
from the level of element and attribute names down to the level of
different types of markup delimiters (e.g., angle-bracket tag
delimiters, the quote marks around attribute values, etc.).</p>
</li></ul>

</div>


<div class="sect2"><a name="xmlhks-CHP-2-SECT-3.5"/>

<h3 class="head2">Entering and Displaying Special Characters</h3>

<p>Another area where nXML is very clever is the way in which it enables
you to enter and display special characters. To enter a special
character, such as a copyright sign:</p>

<ol><li>
<p>Type C-c C-u. nXML then prompts you for the name of the character to
enter.</p>
</li><li>
<p>Type the first few letters of the character name and then hit tab.
nXML then does completion, presenting you with a list of all
character names that start with the letters you type in. For example,
if you enter <em class="emphasis">cop</em>, nXML will present you with a
list of several character names that starts with
<em class="emphasis">COPTIC</em>, along with the name of the character
that's probably the one you're
looking for: <em class="emphasis">COPYRIGHT SIGN</em>.</p>
</li><li>
<p>Either use your mouse to select one of the choices from the
completion buffer, or type more letters then tab again to narrow down
the choices to the character you need. Or, if you just type
<em class="emphasis">copy</em> to begin with, you'll get
straight to the copyright sign (because it's the
only character name that begins with <em class="emphasis">COPY</em>).</p>
</li></ol>
<p>Note that, by default, nXML inserts the hexadecimal character entity
reference, not the actual character; e.g., for the copyright sign,
nXML inserts the character reference <tt class="literal">&amp;#xA9;</tt>.
This ensures that you will be able to interpret what the character is
if it is displayed by software that does not understand Unicode.</p>

<p>But this is where things get interesting: even though nXML writes
only the numeric character reference to the file, it displays the
glyph for the character (along with the character reference itself).
And if you mouse over the character reference, nXML displays the full
name of the character, either as pop-up text or in the minibuffer
echo area at the bottom of the Emacs interface ().</p>

<div class="figure"><a name="xmlhks-CHP-2-FIG-4"/><img src="/images/hacks/xmlhks/figs/xmlh_0204.gif"/></div><h4 class="head4">Figure 3. nXML display of special characters</h4>

<p>As far as special characters go, nXML lets you have your cake and eat
it too. You get:</p>

<ul><li>
<p>An easy way to enter special characters as character references,
without needing to memorize or look up their numeric values or ISO
entity names.</p>
</li><li>
<p>The ability to see glyphs and full names for all the character
references in your documents, while still being able to distribute
them to others as ASCII-encoded files (so you're not
depending on others having editors that support Unicode or some other
encoding).</p>
</li></ul>
<p>To enter special characters in other ways:</p>

<ul><li>
<p>Instead of typing C-c C-u to get prompted for a character name, type
C-u C-c C-u. You'll go through the same completion
process to enter the name, but when you're done,
nXML will insert the character directly, instead of inserting the
character reference. GNU Emacs 21.x or later supports display of
Unicode and many other encodings (as long as you have the fonts), so
you don't have to avoid inserting characters
directly unless you need to share your source documents with others
who might not have Unicode-enabled editors.</p>
</li><li>
<p>Try Norm Walsh's XML Unicode Lisp package
(<a href="http://nwalsh.com/emacs/xmlchars/">http://nwalsh.com/emacs/xmlchars/</a>). Among
other things, it automatically inserts
&quot;smart&quot; quotes in just the same way
that most word-processing applications do, along with a smart
em-dash/en-dash feature. It also provides a menu-driven mechanism for
entering special characters, so you don't need to
type and do completion; instead, you just select a character name
from a menu. Compatibility with nXML's native
character-insertion mechanism isn't a
problem&mdash;the two coexist with one another quite happily.</p>
</li></ul>

</div>



</div>


</a></a></a></a></a></a></a></a></a></img></img></img> </p>






<p><b>See also:</b>
<ul><li><p><em class="emphasis">Learning GNU Emacs</em> by Debra Cameron, Bill<br />
Rosenblatt, and Eric S. Raymond (O'Reilly)</p></li><li><p>The nXML mailing list is the first place to go if you have questions<br />
or run into problems: <a href="http://groups.yahoo.com/group/emacs-nxml-mode/">http://groups.yahoo.com/group/emacs-nxml-mode/</a></p></li></ul><br />

</p>


</span>

<div class="clear"></div>
<!-- opens cond=post_comments -->

<a name="thread"></a>

<div class="feedback">
<div class="rbox">
<div class="rboxtop"><div></div></div>
<div class="rbcontent">
<b class="headline">Comment on this hack</b><br />
<span class="smalltext">You must be <a href="http://www.oreillynet.com/cs/user/login">logged in</a> to the O'Reilly Network to post a comment.</span>
<div class="clear"></div>
<div class="tb_left"><a href="http://www.oreillynet.com/cs/user/create/cs_msg?x-lr=cs_disc/9961&x-lr2=h/2044&page="><img src="/images/button_post.gif" border="0" width="118" height="20" alt="Post Comment" /></a>
</div>
<!-- rbcontent & rbox closed in cs_disc/thread_header.view -->
<!-- thread_header.view -->
<div class="tb_right">

</div><!--end .tb_right -->

<div class="clear"></div>

<!-- closing divs from a/print.view, et al -->


</div> <!--end div.rbcontent -->
<div class="rboxbot"><div></div></div>
</div> <!--end div.rbox -->





<!-- thread_footer.view -->






</div>


<!-- closes cond=post_comments -->


</td></tr>
<tr>
<td colspan="3" align="center"><hr size="1" noshade="noshade" />
<div class="tiny" class="noindex">
<p><b><a href="http://www.oreilly.com/">O'Reilly Home</a> | <a href="http://www.oreillynet.com/pub/a/mediakit/privacy.html">Privacy Policy</a></b><br /><img src="/images/trans.gif" width="1" height="6" alt=" " /><br />
<i>&copy; 2007 O'Reilly Media, Inc.<br />
Website: <script type="text/javascript">
<!--
var name = "webmaster";
var domain = "oreilly.com";
var display = "";
var subject = "";
var ending = "";
var style = "";
document.write('<a class="' + style + '" href="mailto:' + name + '&#64;' + domain + '?subject=' + subject + '">');
if (display) {
 document.write(display);
} else {
 document.write(name + '&#64;' + domain);
}
document.write('</a>' + ending);

// -->
</script>

 | Customer Service: <script type="text/javascript">
<!--
var name = "orders";
var domain = "oreilly.com";
var display = "";
var subject = "";
var ending = "";
var style = "";
document.write('<a class="' + style + '" href="mailto:' + name + '&#64;' + domain + '?subject=' + subject + '">');
if (display) {
 document.write(display);
} else {
 document.write(name + '&#64;' + domain);
}
document.write('</a>' + ending);

// -->
</script>

 | Book issues: <script type="text/javascript">
<!--
var name = "booktech";
var domain = "oreilly.com";
var display = "";
var subject = "";
var ending = "";
var style = "";
document.write('<a class="' + style + '" href="mailto:' + name + '&#64;' + domain + '?subject=' + subject + '">');
if (display) {
 document.write(display);
} else {
 document.write(name + '&#64;' + domain);
}
document.write('</a>' + ending);

// -->
</script>

</i>
</p>
<p>All trademarks and registered trademarks appearing on oreilly.com are the property of their respective owners.</p>
</div>

</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr></table>
 <!--WEBSIDESTORY CODE HBX1.0 (Universal)-->
    <!--COPYRIGHT 1997-2004 WEBSIDESTORY,INC. ALL RIGHTS RESERVED. U.S.PATENT No. 6,393,479B1. MORE INFO:http://websidestory.com / privacy-->
    <script language="javascript" type="text/javascript">
    var _hbEC=0,_hbE=new Array;function _hbEvent(a,b){b=_hbE[_hbEC++]=new Object();b._N=a;b._C=0;return b;}
    var hbx=_hbEvent("pv");hbx.vpc="HBX0100u";hbx.gn="ehg-oreilly.hitbox.com";

    //"BCB: oreillynet.com,/h/2044, DM52040214SV";

    hbx.acct="DM52040214SV;DM520404M4ZR"; //ACCOUNT NUMBER(S)
    hbx.pn="PUT+PAGE+NAME+HERE"; //PAGE NAME(S)
    hbx.mlc="/h/2044;/OReilly+Network/h/2044"; //MULTI-LEVEL CONTENT CATEGORY
    hbx.pndef="title"; //DEFAULT PAGE NAME
    hbx.ctdef="full"; //DEFAULT CONTENT CATEGORY

    hbx.lt="auto"; //LINK TRACKING 
    hbx.dlf="n"; //DOWNLOAD FILTER
    hbx.dft="n"; //DOWNLOAD FILE NAMING
    hbx.elf="n"; //EXIT LINK FILTER

    //SEGMENTS AND FUNNELS
    hbx.seg=""; //VISITOR SEGMENTATION
    hbx.fnl=""; //FUNNELS

    //CAMPAIGNS
    hbx.cmp=""; //CAMPAIGN ID
    hbx.cmpn="CMP"; //CAMPAIGN ID IN QUERY
    hbx.hra=""; //RESPONSE ATTRIBUTE
    hbx.hqsr=""; //RESPONSE ATTRIBUTE IN REFERRAL QUERY
    hbx.hqsp="ATT"; //RESPONSE ATTRIBUTE IN QUERY
    hbx.hlt=""; //LEAD TRACKING
    hbx.hla=""; //LEAD ATTRIBUTE
    hbx.gp=""; //CAMPAIGN GOAL
    hbx.gpn=""; //CAMPAIGN GOAL IN QUERY
    hbx.hcn=""; //CONVERSION ATTRIBUTE
    hbx.hcv=""; //CONVERSION VALUE
    hbx.cp="null"; //LEGACY CAMPAIGN
    hbx.cpd=""; //CAMPAIGN DOMAIN

    //CUSTOM VARIABLES
    hbx.ci="";//CUSTOMER ID
    hbx.hc1="";//CUSTOM 1
    hbx.hc2="";//CUSTOM 2
    hbx.hc3="";//CUSTOM 3
    hbx.hc4="";//CUSTOM 4 
    hbx.pec="";//ERROR CODES
    </script><script language="javascript1.1" defer="defer"  src="http://www.oreillynet.com/hbx.js" type="text/javascript"></script><!--//-->  
    <!-- END WEBSIDESTORY CODE  -->
 </body>

</html>
